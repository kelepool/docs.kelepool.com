<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="keywords" content="ETH2.0 质押, Pos 质押, Pow 挖矿, Mina 质押, Platon 质押"><meta name="description" content="可乐矿池文档 - Pow & Pos 一站式质押管理平台"><title>如何查询用户质押信息？ | 可乐矿池</title>
    <link rel="modulepreload" href="/assets/app.aa16d652.js"><link rel="modulepreload" href="/assets/index.html.11856f83.js"><link rel="modulepreload" href="/assets/index.html.884638af.js"><link rel="prefetch" href="/assets/index.html.314adaac.js"><link rel="prefetch" href="/assets/index.html.cdbb8480.js"><link rel="prefetch" href="/assets/index.html.a773c827.js"><link rel="prefetch" href="/assets/20220831.html.b9e68595.js"><link rel="prefetch" href="/assets/index.html.0051c481.js"><link rel="prefetch" href="/assets/index.html.4d01ecc8.js"><link rel="prefetch" href="/assets/index.html.6ae9af0c.js"><link rel="prefetch" href="/assets/SUMMARY.html.64445f2d.js"><link rel="prefetch" href="/assets/anonymous-mining.html.76c5460d.js"><link rel="prefetch" href="/assets/index.html.bdf45e58.js"><link rel="prefetch" href="/assets/20220831.html.e61883df.js"><link rel="prefetch" href="/assets/index.html.d12b2740.js"><link rel="prefetch" href="/assets/index.html.9dd1b520.js"><link rel="prefetch" href="/assets/index.html.b2a15a00.js"><link rel="prefetch" href="/assets/index.html.4a3a454b.js"><link rel="prefetch" href="/assets/platform.html.99ca2ae8.js"><link rel="prefetch" href="/assets/index.html.edae8654.js"><link rel="prefetch" href="/assets/index.html.36e72d4f.js"><link rel="prefetch" href="/assets/index.html.92c81ef3.js"><link rel="prefetch" href="/assets/fork.html.f8879dff.js"><link rel="prefetch" href="/assets/kelepool.html.0871e8d4.js"><link rel="prefetch" href="/assets/knowledge.html.8f9e4bfe.js"><link rel="prefetch" href="/assets/merge.html.38d4210a.js"><link rel="prefetch" href="/assets/platform.html.4e4695bd.js"><link rel="prefetch" href="/assets/staking-difference.html.eda76104.js"><link rel="prefetch" href="/assets/staking-guide.html.3569972f.js"><link rel="prefetch" href="/assets/staking-intro.html.7c8abf8f.js"><link rel="prefetch" href="/assets/index.html.95873d4f.js"><link rel="prefetch" href="/assets/anonymous.html.6501dc1f.js"><link rel="prefetch" href="/assets/ladder.html.5a3c8c60.js"><link rel="prefetch" href="/assets/eth-an-quan-shen-ji.html.24f2ed48.js"><link rel="prefetch" href="/assets/terms-of-service.html.e30a0f4a.js"><link rel="prefetch" href="/assets/0x00address.html.64cb317a.js"><link rel="prefetch" href="/assets/index.html.ec5a47a5.js"><link rel="prefetch" href="/assets/aleo.html.d1e1b9d2.js"><link rel="prefetch" href="/assets/fork.html.00d1f77f.js"><link rel="prefetch" href="/assets/kelepool.html.f072d218.js"><link rel="prefetch" href="/assets/knowledge.html.511448bf.js"><link rel="prefetch" href="/assets/merge.html.141e67c9.js"><link rel="prefetch" href="/assets/staking-difference.html.3ec525ae.js"><link rel="prefetch" href="/assets/staking-guide.html.0f054549.js"><link rel="prefetch" href="/assets/staking-intro.html.078422a7.js"><link rel="prefetch" href="/assets/index.html.aa947098.js"><link rel="prefetch" href="/assets/Hardware.html.035b3a51.js"><link rel="prefetch" href="/assets/index.html.ff78c683.js"><link rel="prefetch" href="/assets/knowledge.html.0c75e4e1.js"><link rel="prefetch" href="/assets/index.html.9b125456.js"><link rel="prefetch" href="/assets/index.html.f4e3ee62.js"><link rel="prefetch" href="/assets/index.html.c52be553.js"><link rel="prefetch" href="/assets/index.html.25e5456a.js"><link rel="prefetch" href="/assets/index.html.822f5182.js"><link rel="prefetch" href="/assets/1account-registration-and-login.html.8115bd7a.js"><link rel="prefetch" href="/assets/2add-and-change-sub-accounts.html.55dbdcdb.js"><link rel="prefetch" href="/assets/3check-earnings-and-payment-status.html.ceb602eb.js"><link rel="prefetch" href="/assets/4check-hashrate-and-worker-status.html.2337bd65.js"><link rel="prefetch" href="/assets/5create-edit-and-delete-observer-addresses.html.434f919f.js"><link rel="prefetch" href="/assets/6invite-friends-to-get-rewards.html.a2c14338.js"><link rel="prefetch" href="/assets/7set-hashrate-alert.html.e46d17c3.js"><link rel="prefetch" href="/assets/8set-payment-address.html.344a3252.js"><link rel="prefetch" href="/assets/9supported-currencies-tokens.html.1909f866.js"><link rel="prefetch" href="/assets/index.html.2fce82e8.js"><link rel="prefetch" href="/assets/stake-amount-32-eth-1.html.2f16ced2.js"><link rel="prefetch" href="/assets/stake-amount-32-eth.html.8a966901.js"><link rel="prefetch" href="/assets/Hardware.html.df05188f.js"><link rel="prefetch" href="/assets/knowledge.html.771ccd65.js"><link rel="prefetch" href="/assets/index.html.5a763e87.js"><link rel="prefetch" href="/assets/index.html.46f736de.js"><link rel="prefetch" href="/assets/index.html.19bb0a2d.js"><link rel="prefetch" href="/assets/index.html.f3517850.js"><link rel="prefetch" href="/assets/index.html.872906ca.js"><link rel="prefetch" href="/assets/index.html.53e5036e.js"><link rel="prefetch" href="/assets/eth-deposit-cli.html.e69f981c.js"><link rel="prefetch" href="/assets/index.html.f6e70d53.js"><link rel="prefetch" href="/assets/micro-unstake.html.b43ecb44.js"><link rel="prefetch" href="/assets/micro.html.e3b94c67.js"><link rel="prefetch" href="/assets/whale-unstake.html.56918263.js"><link rel="prefetch" href="/assets/whale.html.f133f3eb.js"><link rel="prefetch" href="/assets/withdraw.html.78c06a5f.js"><link rel="prefetch" href="/assets/index.html.a9a27c08.js"><link rel="prefetch" href="/assets/Stake.html.1c5926ff.js"><link rel="prefetch" href="/assets/Staking.html.d8bf1b37.js"><link rel="prefetch" href="/assets/Supported networks.html.98395f4b.js"><link rel="prefetch" href="/assets/cha-kan-shou-yi.html.e7379e86.js"><link rel="prefetch" href="/assets/cha-kan-yan-zheng-jie-dian.html.9ce00778.js"><link rel="prefetch" href="/assets/cha-kan-zhi-ya-jin-du.html.edb7788d.js"><link rel="prefetch" href="/assets/ru-he-jie-chu-zhi-ya.html.08ef9bb3.js"><link rel="prefetch" href="/assets/index.html.418dace0.js"><link rel="prefetch" href="/assets/ledger-install-mina-app.html.3f21b8f0.js"><link rel="prefetch" href="/assets/index.html.e958fdb2.js"><link rel="prefetch" href="/assets/dns-shi-shi-mo-ru-he-xuan-ze-yi-ge-wen-ding-de-dns.html.3fc9e747.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-ge-ge-bi-zhong-fei-shuai-shi-duo-shao.html.98d93857.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-shi-mo-shi-jian-jie-suan-da-bi.html.c3a33372.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-shi-yong-na-zhong-shou-yi-mo-shi.html.ef5344b0.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-ti-bi-di-zhi-ke-yi-yong-jiao-yi-suo-di-zhi-ma.html.67cc79ac.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-ti-bi-qi-fueshi-duo-shao.html.96faa42b.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-ti-bi-shou-xu-fei-shi-duo-shao.html.24cb8816.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-zai-hai-wai-you-mei-you-wa-kuang-di-zhi.html.533bf70b.js"><link rel="prefetch" href="/assets/kuang-ti-lian-jie-bu-shang-shi-shi-mo-yuan-yin.html.532ba258.js"><link rel="prefetch" href="/assets/lian-jie-shang-kuang-chi-hou-duo-jiu-ke-yi-kan-dao-suan-li.html.5d7af797.js"><link rel="prefetch" href="/assets/mei-dao-qi-fueke-yi-ti-bi-ma.html.90f81e02.js"><link rel="prefetch" href="/assets/ru-he-pei-zhi-qi-fuedu.html.a1d15391.js"><link rel="prefetch" href="/assets/vpn-he-kuang-ti-you-shi-mo-qu-bie.html.bd3235e6.js"><link rel="prefetch" href="/assets/wei-shi-mo-ke-le-kuang-chi-wang-zhan-da-bu-kai.html.3eb4467b.js"><link rel="prefetch" href="/assets/wei-shi-mo-wo-wa-de-bi-mei-you-zhi-fu.html.1b730e04.js"><link rel="prefetch" href="/assets/BTC.html.974b5322.js"><link rel="prefetch" href="/assets/CKB.html.c30c16ba.js"><link rel="prefetch" href="/assets/ETC.html.bad8a4a7.js"><link rel="prefetch" href="/assets/HNS.html.6cd7ae67.js"><link rel="prefetch" href="/assets/KDA.html.78461307.js"><link rel="prefetch" href="/assets/LTC.html.dcbd0418.js"><link rel="prefetch" href="/assets/index.html.ce8551bb.js"><link rel="prefetch" href="/assets/RVN.html.507df2f4.js"><link rel="prefetch" href="/assets/STC.html.c2ca5814.js"><link rel="prefetch" href="/assets/index.html.5e9f2d67.js"><link rel="prefetch" href="/assets/aceminer-wa-kuang-jiao-cheng.html.8b0377f2.js"><link rel="prefetch" href="/assets/hiveos-wa-kuang-jiao-cheng.html.579b7280.js"><link rel="prefetch" href="/assets/kai-yuan-kuang-gong-wa-kuang-jiao-cheng.html.729c2c13.js"><link rel="prefetch" href="/assets/mineros-wa-kuang-jiao-cheng.html.0057c86f.js"><link rel="prefetch" href="/assets/qing-song-kuang-gong-shi-yong-jiao-cheng.html.b388015b.js"><link rel="prefetch" href="/assets/stcbox-ka-shua-liu-cheng.html.7d1aaa2c.js"><link rel="prefetch" href="/assets/stcbox1.html.0135b772.js"><link rel="prefetch" href="/assets/Supported currency.html.7d972100.js"><link rel="prefetch" href="/assets/account.html.f22df625.js"><link rel="prefetch" href="/assets/cha-kan-shou-yi-zhi-fu-zhuang-tai.html.aa68c3cc.js"><link rel="prefetch" href="/assets/cha-kan-suan-li-kuang-ji-qing-kuang.html.12432898.js"><link rel="prefetch" href="/assets/chuang-jian-xiu-gai-shan-chu-guan-cha-zhe-di-zhi.html.b93971b6.js"><link rel="prefetch" href="/assets/collection.html.6dd0f5cb.js"><link rel="prefetch" href="/assets/warning.html.83b7c42b.js"><link rel="prefetch" href="/assets/yao-qing-hao-you-huo-qu-jiang-li.html.08c22bcc.js"><link rel="prefetch" href="/assets/zhang-hu-zhu-ce-ji-deng-lu.html.cfdaf7a5.js"><link rel="prefetch" href="/assets/zi-zhu-ti-bi.html.daeab1ad.js"><link rel="prefetch" href="/assets/404.html.ce538133.js"><link rel="prefetch" href="/assets/index.html.0a60cee7.js"><link rel="prefetch" href="/assets/index.html.9db852ce.js"><link rel="prefetch" href="/assets/index.html.6bf09f74.js"><link rel="prefetch" href="/assets/20220831.html.0bcc103b.js"><link rel="prefetch" href="/assets/index.html.73548f7c.js"><link rel="prefetch" href="/assets/index.html.0a380d3d.js"><link rel="prefetch" href="/assets/index.html.9758f34a.js"><link rel="prefetch" href="/assets/SUMMARY.html.4b00f13a.js"><link rel="prefetch" href="/assets/anonymous-mining.html.3237651f.js"><link rel="prefetch" href="/assets/index.html.44327005.js"><link rel="prefetch" href="/assets/20220831.html.db6e92f5.js"><link rel="prefetch" href="/assets/index.html.6a92af62.js"><link rel="prefetch" href="/assets/index.html.14419512.js"><link rel="prefetch" href="/assets/index.html.ab8c5d7c.js"><link rel="prefetch" href="/assets/index.html.ebb5588c.js"><link rel="prefetch" href="/assets/platform.html.eb17d86f.js"><link rel="prefetch" href="/assets/index.html.be9cbe4e.js"><link rel="prefetch" href="/assets/index.html.b23f79a5.js"><link rel="prefetch" href="/assets/index.html.995324c2.js"><link rel="prefetch" href="/assets/fork.html.d99cb2ba.js"><link rel="prefetch" href="/assets/kelepool.html.bdfc6a33.js"><link rel="prefetch" href="/assets/knowledge.html.a79ef33a.js"><link rel="prefetch" href="/assets/merge.html.38eb5101.js"><link rel="prefetch" href="/assets/platform.html.e3c347ed.js"><link rel="prefetch" href="/assets/staking-difference.html.431e697c.js"><link rel="prefetch" href="/assets/staking-guide.html.89b972f5.js"><link rel="prefetch" href="/assets/staking-intro.html.c0f408f3.js"><link rel="prefetch" href="/assets/index.html.e5ad30b3.js"><link rel="prefetch" href="/assets/anonymous.html.f81e9682.js"><link rel="prefetch" href="/assets/ladder.html.aaf30b9a.js"><link rel="prefetch" href="/assets/eth-an-quan-shen-ji.html.45ecd39e.js"><link rel="prefetch" href="/assets/terms-of-service.html.f11021e7.js"><link rel="prefetch" href="/assets/0x00address.html.fceb90fa.js"><link rel="prefetch" href="/assets/index.html.de4a1ce8.js"><link rel="prefetch" href="/assets/aleo.html.04f45ee8.js"><link rel="prefetch" href="/assets/fork.html.9e6a9b18.js"><link rel="prefetch" href="/assets/kelepool.html.fbef32b5.js"><link rel="prefetch" href="/assets/knowledge.html.66481f87.js"><link rel="prefetch" href="/assets/merge.html.4263d07d.js"><link rel="prefetch" href="/assets/staking-difference.html.69e0e89a.js"><link rel="prefetch" href="/assets/staking-guide.html.3bf21e97.js"><link rel="prefetch" href="/assets/staking-intro.html.e3b2d064.js"><link rel="prefetch" href="/assets/index.html.b4421eb4.js"><link rel="prefetch" href="/assets/Hardware.html.a482e0e3.js"><link rel="prefetch" href="/assets/index.html.b2c5d905.js"><link rel="prefetch" href="/assets/knowledge.html.291b9fd1.js"><link rel="prefetch" href="/assets/index.html.90864f58.js"><link rel="prefetch" href="/assets/index.html.8dbeedfb.js"><link rel="prefetch" href="/assets/index.html.174c96b1.js"><link rel="prefetch" href="/assets/index.html.9597ce5e.js"><link rel="prefetch" href="/assets/index.html.5beb43e4.js"><link rel="prefetch" href="/assets/1account-registration-and-login.html.a07e23f3.js"><link rel="prefetch" href="/assets/2add-and-change-sub-accounts.html.4d90cf08.js"><link rel="prefetch" href="/assets/3check-earnings-and-payment-status.html.8f19d728.js"><link rel="prefetch" href="/assets/4check-hashrate-and-worker-status.html.ece0a8a2.js"><link rel="prefetch" href="/assets/5create-edit-and-delete-observer-addresses.html.f12255e1.js"><link rel="prefetch" href="/assets/6invite-friends-to-get-rewards.html.7b939f6b.js"><link rel="prefetch" href="/assets/7set-hashrate-alert.html.799540a1.js"><link rel="prefetch" href="/assets/8set-payment-address.html.95bf3531.js"><link rel="prefetch" href="/assets/9supported-currencies-tokens.html.47a9014b.js"><link rel="prefetch" href="/assets/index.html.e34cca09.js"><link rel="prefetch" href="/assets/stake-amount-32-eth-1.html.0a865705.js"><link rel="prefetch" href="/assets/stake-amount-32-eth.html.162c3ff2.js"><link rel="prefetch" href="/assets/Hardware.html.4e0f42da.js"><link rel="prefetch" href="/assets/knowledge.html.5afd7936.js"><link rel="prefetch" href="/assets/index.html.b99b9e2b.js"><link rel="prefetch" href="/assets/index.html.362e85bf.js"><link rel="prefetch" href="/assets/index.html.be311a75.js"><link rel="prefetch" href="/assets/index.html.bf5b4115.js"><link rel="prefetch" href="/assets/index.html.d4e7c273.js"><link rel="prefetch" href="/assets/index.html.3e208423.js"><link rel="prefetch" href="/assets/eth-deposit-cli.html.b73a7e56.js"><link rel="prefetch" href="/assets/index.html.169dabdf.js"><link rel="prefetch" href="/assets/micro-unstake.html.8b7b801c.js"><link rel="prefetch" href="/assets/micro.html.16210b4a.js"><link rel="prefetch" href="/assets/whale-unstake.html.021ba06b.js"><link rel="prefetch" href="/assets/whale.html.163392d7.js"><link rel="prefetch" href="/assets/withdraw.html.e380d69e.js"><link rel="prefetch" href="/assets/index.html.86ba4c09.js"><link rel="prefetch" href="/assets/Stake.html.eb48a369.js"><link rel="prefetch" href="/assets/Staking.html.b42a9cbd.js"><link rel="prefetch" href="/assets/Supported networks.html.9420636f.js"><link rel="prefetch" href="/assets/cha-kan-shou-yi.html.ade5c462.js"><link rel="prefetch" href="/assets/cha-kan-yan-zheng-jie-dian.html.fca3fa69.js"><link rel="prefetch" href="/assets/cha-kan-zhi-ya-jin-du.html.a90d19c3.js"><link rel="prefetch" href="/assets/ru-he-jie-chu-zhi-ya.html.b29b3d45.js"><link rel="prefetch" href="/assets/index.html.5c8af29f.js"><link rel="prefetch" href="/assets/ledger-install-mina-app.html.b95a46f3.js"><link rel="prefetch" href="/assets/index.html.a84c590e.js"><link rel="prefetch" href="/assets/dns-shi-shi-mo-ru-he-xuan-ze-yi-ge-wen-ding-de-dns.html.c671826e.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-ge-ge-bi-zhong-fei-shuai-shi-duo-shao.html.004a5092.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-shi-mo-shi-jian-jie-suan-da-bi.html.a1eb3fec.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-shi-yong-na-zhong-shou-yi-mo-shi.html.77653d06.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-ti-bi-di-zhi-ke-yi-yong-jiao-yi-suo-di-zhi-ma.html.a4ca2c53.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-ti-bi-qi-fueshi-duo-shao.html.00d83799.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-ti-bi-shou-xu-fei-shi-duo-shao.html.885fa8e9.js"><link rel="prefetch" href="/assets/ke-le-kuang-chi-zai-hai-wai-you-mei-you-wa-kuang-di-zhi.html.d8bdc585.js"><link rel="prefetch" href="/assets/kuang-ti-lian-jie-bu-shang-shi-shi-mo-yuan-yin.html.16850c77.js"><link rel="prefetch" href="/assets/lian-jie-shang-kuang-chi-hou-duo-jiu-ke-yi-kan-dao-suan-li.html.4a021126.js"><link rel="prefetch" href="/assets/mei-dao-qi-fueke-yi-ti-bi-ma.html.8ce14a4a.js"><link rel="prefetch" href="/assets/ru-he-pei-zhi-qi-fuedu.html.a8a5b16e.js"><link rel="prefetch" href="/assets/vpn-he-kuang-ti-you-shi-mo-qu-bie.html.9204494e.js"><link rel="prefetch" href="/assets/wei-shi-mo-ke-le-kuang-chi-wang-zhan-da-bu-kai.html.efd803c6.js"><link rel="prefetch" href="/assets/wei-shi-mo-wo-wa-de-bi-mei-you-zhi-fu.html.58faa953.js"><link rel="prefetch" href="/assets/BTC.html.f55ce061.js"><link rel="prefetch" href="/assets/CKB.html.a97b80b5.js"><link rel="prefetch" href="/assets/ETC.html.b30f3c41.js"><link rel="prefetch" href="/assets/HNS.html.76d54c5c.js"><link rel="prefetch" href="/assets/KDA.html.0f19c07c.js"><link rel="prefetch" href="/assets/LTC.html.7564ac4d.js"><link rel="prefetch" href="/assets/index.html.f3016c8e.js"><link rel="prefetch" href="/assets/RVN.html.a4bd9eb6.js"><link rel="prefetch" href="/assets/STC.html.df515194.js"><link rel="prefetch" href="/assets/index.html.609b6afc.js"><link rel="prefetch" href="/assets/aceminer-wa-kuang-jiao-cheng.html.fe0320d8.js"><link rel="prefetch" href="/assets/hiveos-wa-kuang-jiao-cheng.html.174717ac.js"><link rel="prefetch" href="/assets/kai-yuan-kuang-gong-wa-kuang-jiao-cheng.html.fdcef6da.js"><link rel="prefetch" href="/assets/mineros-wa-kuang-jiao-cheng.html.f7b993d9.js"><link rel="prefetch" href="/assets/qing-song-kuang-gong-shi-yong-jiao-cheng.html.43748385.js"><link rel="prefetch" href="/assets/stcbox-ka-shua-liu-cheng.html.344ee58e.js"><link rel="prefetch" href="/assets/stcbox1.html.0e123d30.js"><link rel="prefetch" href="/assets/Supported currency.html.a896ff5d.js"><link rel="prefetch" href="/assets/account.html.22c1cead.js"><link rel="prefetch" href="/assets/cha-kan-shou-yi-zhi-fu-zhuang-tai.html.e8f5a9f8.js"><link rel="prefetch" href="/assets/cha-kan-suan-li-kuang-ji-qing-kuang.html.d8647fb9.js"><link rel="prefetch" href="/assets/chuang-jian-xiu-gai-shan-chu-guan-cha-zhe-di-zhi.html.89f861eb.js"><link rel="prefetch" href="/assets/collection.html.1746737a.js"><link rel="prefetch" href="/assets/warning.html.9c397725.js"><link rel="prefetch" href="/assets/yao-qing-hao-you-huo-qu-jiang-li.html.d3bfe8a7.js"><link rel="prefetch" href="/assets/zhang-hu-zhu-ce-ji-deng-lu.html.0114dc13.js"><link rel="prefetch" href="/assets/zi-zhu-ti-bi.html.7556770b.js"><link rel="prefetch" href="/assets/404.html.b88479d0.js"><link rel="prefetch" href="/assets/404.50551ceb.js"><link rel="prefetch" href="/assets/Layout.789aaabb.js"><link rel="prefetch" href="/assets/home.26aa8f13.js">
    <link rel="stylesheet" href="/assets/style.d12785ce.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/zh/" class=""><img class="logo" src="/images/logo.png" alt="可乐矿池"><span class="site-name can-hide">可乐矿池</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/zh/guides/" class="" aria-label="挖矿指南"><!--[--><!--]--> 挖矿指南 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/zh/announcements/" class="" aria-label="公告"><!--[--><!--]--> 公告 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/zh/wiki/" class="" aria-label="百科"><!--[--><!--]--> 百科 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/zh/developers/" class="router-link-active" aria-label="开发者文档"><!--[--><!--]--> 开发者文档 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://www.kelepool.com" rel="noopener noreferrer" target="_blank" aria-label="官方网站"><!--[--><!--]--> 官方网站 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">语言</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/zh/developers/ethereum/api/" class="router-link-active router-link-exact-active router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/kelepool/docs.kelepool.com" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/zh/guides/" class="" aria-label="挖矿指南"><!--[--><!--]--> 挖矿指南 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/zh/announcements/" class="" aria-label="公告"><!--[--><!--]--> 公告 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/zh/wiki/" class="" aria-label="百科"><!--[--><!--]--> 百科 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/zh/developers/" class="router-link-active" aria-label="开发者文档"><!--[--><!--]--> 开发者文档 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://www.kelepool.com" rel="noopener noreferrer" target="_blank" aria-label="官方网站"><!--[--><!--]--> 官方网站 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">语言</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/zh/developers/ethereum/api/" class="router-link-active router-link-exact-active router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/kelepool/docs.kelepool.com" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">Ethereum <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/zh/developers/ethereum/faq/" class="sidebar-item" aria-label="常见问题"><!--[--><!--]--> 常见问题 <!--[--><!--]--></a><!----></li><li><a href="/zh/developers/ethereum/api/Hardware.html" class="sidebar-item" aria-label="硬件钱包或APP如何集成质押接口？"><!--[--><!--]--> 硬件钱包或APP如何集成质押接口？ <!--[--><!--]--></a><!----></li><li><a href="/zh/developers/ethereum/introductions/" class="sidebar-item" aria-label="什么是ETH2.0质押？"><!--[--><!--]--> 什么是ETH2.0质押？ <!--[--><!--]--></a><!----></li><li><a href="/zh/developers/ethereum/contracts/" class="sidebar-item" aria-label="如何调用智能合约质押？"><!--[--><!--]--> 如何调用智能合约质押？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="如何查询用户质押信息？"><!--[--><!--]--> 如何查询用户质押信息？ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/zh/developers/ethereum/api/#api查询节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="API查询节点"><!--[--><!--]--> API查询节点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#api授权认证" class="router-link-active router-link-exact-active sidebar-item" aria-label="API授权认证"><!--[--><!--]--> API授权认证 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/zh/developers/ethereum/api/#_1-授权步骤" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.授权步骤"><!--[--><!--]--> 1.授权步骤 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#_2-使用方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.使用方式"><!--[--><!--]--> 2.使用方式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#_3-python示例代码" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.Python示例代码"><!--[--><!--]--> 3.Python示例代码 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#_4-nodejs示例代码" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.NodeJs示例代码"><!--[--><!--]--> 4.NodeJs示例代码 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#eth私钥签名认证" class="router-link-active router-link-exact-active sidebar-item" aria-label="ETH私钥签名认证"><!--[--><!--]--> ETH私钥签名认证 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/zh/developers/ethereum/api/#_1-使用方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.使用方式"><!--[--><!--]--> 1.使用方式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#_2-python签名样例" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.Python签名样例"><!--[--><!--]--> 2.Python签名样例 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#_3-js签名样例" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.JS签名样例"><!--[--><!--]--> 3.JS签名样例 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#用户地址注册" class="router-link-active router-link-exact-active sidebar-item" aria-label="用户地址注册"><!--[--><!--]--> 用户地址注册 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#用户质押总览" class="router-link-active router-link-exact-active sidebar-item" aria-label="用户质押总览"><!--[--><!--]--> 用户质押总览 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#平台数据总览" class="router-link-active router-link-exact-active sidebar-item" aria-label="平台数据总览"><!--[--><!--]--> 平台数据总览 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#收益历史列表" class="router-link-active router-link-exact-active sidebar-item" aria-label="收益历史列表"><!--[--><!--]--> 收益历史列表 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#用户节点列表" class="router-link-active router-link-exact-active sidebar-item" aria-label="用户节点列表"><!--[--><!--]--> 用户节点列表 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#用户操作历史" class="router-link-active router-link-exact-active sidebar-item" aria-label="用户操作历史"><!--[--><!--]--> 用户操作历史 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#赎回提现api接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="赎回提现API接口"><!--[--><!--]--> 赎回提现API接口 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/zh/developers/ethereum/api/#查询可赎回节点列表" class="router-link-active router-link-exact-active sidebar-item" aria-label="查询可赎回节点列表"><!--[--><!--]--> 查询可赎回节点列表 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#查询可赎回金额" class="router-link-active router-link-exact-active sidebar-item" aria-label="查询可赎回金额"><!--[--><!--]--> 查询可赎回金额 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#发起赎回" class="router-link-active router-link-exact-active sidebar-item" aria-label="发起赎回"><!--[--><!--]--> 发起赎回 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#查询可提现信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="查询可提现信息"><!--[--><!--]--> 查询可提现信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#发起提现" class="router-link-active router-link-exact-active sidebar-item" aria-label="发起提现"><!--[--><!--]--> 发起提现 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#节点api接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="节点API接口"><!--[--><!--]--> 节点API接口 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/zh/developers/ethereum/api/#生成验证者公钥" class="router-link-active router-link-exact-active sidebar-item" aria-label="生成验证者公钥"><!--[--><!--]--> 生成验证者公钥 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#查询验证者公钥" class="router-link-active router-link-exact-active sidebar-item" aria-label="查询验证者公钥"><!--[--><!--]--> 查询验证者公钥 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#节点奖励记录曲线图" class="router-link-active router-link-exact-active sidebar-item" aria-label="节点奖励记录曲线图"><!--[--><!--]--> 节点奖励记录曲线图 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#节点链上自动转账记录查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="节点链上自动转账记录查询"><!--[--><!--]--> 节点链上自动转账记录查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#节点罚款记录" class="router-link-active router-link-exact-active sidebar-item" aria-label="节点罚款记录"><!--[--><!--]--> 节点罚款记录 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#节点状态批量查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="节点状态批量查询"><!--[--><!--]--> 节点状态批量查询 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#合作商api接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="合作商API接口"><!--[--><!--]--> 合作商API接口 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/zh/developers/ethereum/api/#合作商下所有用户质押总览" class="router-link-active router-link-exact-active sidebar-item" aria-label="合作商下所有用户质押总览"><!--[--><!--]--> 合作商下所有用户质押总览 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#合作商下所有用户收益历史列表" class="router-link-active router-link-exact-active sidebar-item" aria-label="合作商下所有用户收益历史列表"><!--[--><!--]--> 合作商下所有用户收益历史列表 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#合作商下所有用户验证节点列表" class="router-link-active router-link-exact-active sidebar-item" aria-label="合作商下所有用户验证节点列表"><!--[--><!--]--> 合作商下所有用户验证节点列表 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/zh/developers/ethereum/api/#合作商快速质押-赎回查询接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="合作商快速质押/赎回查询接口"><!--[--><!--]--> 合作商快速质押/赎回查询接口 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/zh/developers/ethereum/api/knowledge.html" class="sidebar-item" aria-label="涨姿势：钱包怎样安全的参与到 ETH Staking 浪潮中?"><!--[--><!--]--> 涨姿势：钱包怎样安全的参与到 ETH Staking 浪潮中? <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Mina <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/zh/developers/mina/api/" class="sidebar-item" aria-label="API Reference"><!--[--><!--]--> API Reference <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">PlatON <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/zh/developers/platon/api/" class="sidebar-item" aria-label="API Reference"><!--[--><!--]--> API Reference <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="如何查询用户质押信息" tabindex="-1"><a class="header-anchor" href="#如何查询用户质押信息" aria-hidden="true">#</a> 如何查询用户质押信息？</h1><p>可乐矿池开放了全部ETH2.0的收益查询接口，开发人员可以使用钱包地址查询用户的质押量、总收益、年化、曲线（小时、天）、节点状态、操作历史、历史收益等数据。</p><h2 id="api查询节点" tabindex="-1"><a class="header-anchor" href="#api查询节点" aria-hidden="true">#</a> API查询节点</h2><p><a href="https://api.kelepool.com" target="_blank" rel="noopener noreferrer">可乐矿池Mainnet主网API：https://api.kelepool.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://test-api.kelepool.com" target="_blank" rel="noopener noreferrer">可乐矿池Goerli测试网API：https://test-api.kelepool.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>通用的请求返回结果：</p><ul><li><code>code</code> ：整型数字，等于0表示成功，大于0表示失败</li><li><code>message</code> ：失败后返回的消息</li></ul></blockquote><h2 id="api授权认证" tabindex="-1"><a class="header-anchor" href="#api授权认证" aria-hidden="true">#</a> API授权认证</h2><p>第三方开发人员需要联系可乐矿池，申请一个长时间有效的签名 <code>authority_key</code> 以及 <code>token</code>，第三方可以用这两个key进行签名以及数据来源的确认。</p><h3 id="_1-授权步骤" tabindex="-1"><a class="header-anchor" href="#_1-授权步骤" aria-hidden="true">#</a> 1.授权步骤</h3><ul><li>准备一个eth地址，作为合作商mev手续费收款地址(地址建议收款专用，资金流水更清晰)</li><li>选择一个<code>graffiti</code>标识，作为节点在网络上的名字,如BXKelePool</li><li>联系可乐矿池申请<code>authority_key</code> 以及 <code>token</code>/<code>source</code></li><li>如果用户是第一次调用可乐矿池API，则需提前调用<code>/user/v2/anonymouslogin</code> 进行<a href="#%E7%94%A8%E6%88%B7%E5%9C%B0%E5%9D%80%E6%B3%A8%E5%86%8C">用户地址注册</a>,并传递约定的source参数值(合作商来源标识)</li><li>调用可乐矿池每个接口时使用 <code>authority_key</code> 以及 <code>token</code> 签名并放入Header中验证</li></ul><h3 id="_2-使用方式" tabindex="-1"><a class="header-anchor" href="#_2-使用方式" aria-hidden="true">#</a> 2.使用方式</h3><ul><li>在请求的 header 中添加 Kele-ThirdParty-Authority = <code>token</code></li><li>在请求的 header 中添加 Kele-ThirdParty-Sign = <code>sign</code><ul><li>获取 <code>sign</code> 逻辑如下：</li><li>将请求参数按字典序升序排列，并用 &#39;&amp;&#39; 前后拼接</li><li>用 <code>hmac_blake2b</code> 以 <code>authority_key</code> 进行签名，得到 <code>sign</code></li></ul></li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>用于测试的 authority_key 及 token ：

<span class="token punctuation">{</span>
    <span class="token property">&quot;authority_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2fb8098e1cac29c559191993e606e692b7d15314164ac8c55bcaa5a05b635843f067a35bf50ab9707675f7dff7dae934f6b2c189311e9c53ba874f572643b8ed&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eyJ0eXAiOiJqd3QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXBlIjoiZnVsbCIsIm9wZW5pZCI6Im9uZWtleSIsInZlcnNpb24iOiIwIiwiZXhwIjoxODMwNTcwNTU4fQ.gNdTZxcThOBKJB2oGFUAC1vxP9FRXQBPPx36jpgZRWc&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-python示例代码" tabindex="-1"><a class="header-anchor" href="#_3-python示例代码" aria-hidden="true">#</a> 3.Python示例代码</h3><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac
<span class="token keyword">import</span> requests


url <span class="token operator">=</span> <span class="token string">&#39;https://test-api.kelepool.com/eth2/v2/miner/dashboard?address=0xf48b98bbeeb81033a227f576da98a32c3a2d8515&#39;</span>
params <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;address&#39;</span><span class="token punctuation">:</span><span class="token string">&#39;0xf48b98bbeeb81033a227f576da98a32c3a2d8515&#39;</span>
<span class="token punctuation">}</span>

<span class="token comment"># url = &#39;https://test-api.kelepool.com/eth2/v2/partner/validator&#39;</span>
<span class="token comment"># params = {</span>

<span class="token comment"># }</span>

sign_str <span class="token operator">=</span> <span class="token string">&#39;&amp;&#39;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;%s=%s&#39;</span> <span class="token operator">%</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> params<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

authority_key<span class="token operator">=</span><span class="token string">&#39;dccc6ce732fe9011ee4e12b2e0de8ecbe743f630f3ff02bceb23052d9afa692d50540d6221f095427f903db80f781dd6cfaef8c6678ad5bbcc74475cd76cf629&#39;</span>
token<span class="token operator">=</span><span class="token string">&#39;eyJ0eXAiOiJqd3QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXBlIjoiZnVsbCIsIm9wZW5pZCI6Ik9uZUtleSIsInZlcnNpb24iOiIwIiwiZXhwIjoxODM3MDYzMjE0fQ.Z22fUeKbo6AmrsvvJ2nrrDjXQCcMwFd7GtIIAGUe6DU&#39;</span>

sign<span class="token operator">=</span>hmac<span class="token punctuation">.</span>new<span class="token punctuation">(</span>authority_key<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sign_str<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> digestmod<span class="token operator">=</span>hashlib<span class="token punctuation">.</span>blake2b<span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token string">&#39;Content-Type&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span> 
<span class="token string">&#39;Accept&#39;</span><span class="token punctuation">:</span><span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span>
<span class="token string">&#39;Kele-ThirdParty-Authority&#39;</span><span class="token punctuation">:</span>token<span class="token punctuation">,</span>
<span class="token string">&#39;Kele-ThirdParty-Sign&#39;</span><span class="token punctuation">:</span>sign
<span class="token punctuation">}</span>

r_json <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span>params<span class="token operator">=</span>params<span class="token punctuation">,</span>headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;paramters: &quot;</span><span class="token operator">+</span>sign_str<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;signature: &quot;</span><span class="token operator">+</span>sign<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;response: &quot;</span><span class="token operator">+</span>r_json<span class="token punctuation">.</span>text<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-nodejs示例代码" tabindex="-1"><a class="header-anchor" href="#_4-nodejs示例代码" aria-hidden="true">#</a> 4.NodeJs示例代码</h3><p>安装下面两个库，然后直接运行代码即可。</p><ul><li>yarn add sodium-universal</li><li>yarn add request</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>

<span class="token keyword">var</span> <span class="token punctuation">{</span> sodium_malloc<span class="token punctuation">,</span> sodium_memzero <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;sodium-universal/memory&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span> crypto_generichash<span class="token punctuation">,</span> crypto_generichash_batch <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;sodium-universal/crypto_generichash&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 计算消息签名</span>
<span class="token keyword">function</span> <span class="token function">hmac</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> mac <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> scratch <span class="token operator">=</span> <span class="token function">sodium_malloc</span><span class="token punctuation">(</span><span class="token number">128</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> hmacKey <span class="token operator">=</span> scratch<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">128</span> <span class="token operator">*</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> outerKeyPad <span class="token operator">=</span> scratch<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">128</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">128</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> innerKeyPad <span class="token operator">=</span> scratch<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">128</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">128</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span>byteLength <span class="token operator">&gt;</span> <span class="token number">128</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">crypto_generichash</span><span class="token punctuation">(</span>hmacKey<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span>
    <span class="token function">sodium_memzero</span><span class="token punctuation">(</span>hmacKey<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    hmacKey<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token function">sodium_memzero</span><span class="token punctuation">(</span>hmacKey<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span>key<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> hmacKey<span class="token punctuation">.</span>byteLength<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    outerKeyPad<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0x5c</span> <span class="token operator">^</span> hmacKey<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    innerKeyPad<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0x36</span> <span class="token operator">^</span> hmacKey<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">sodium_memzero</span><span class="token punctuation">(</span>hmacKey<span class="token punctuation">)</span>
  <span class="token function">crypto_generichash_batch</span><span class="token punctuation">(</span>mac<span class="token punctuation">,</span> <span class="token punctuation">[</span>innerKeyPad<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token function">sodium_memzero</span><span class="token punctuation">(</span>innerKeyPad<span class="token punctuation">)</span>
  <span class="token function">crypto_generichash_batch</span><span class="token punctuation">(</span>mac<span class="token punctuation">,</span> <span class="token punctuation">[</span>outerKeyPad<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>mac<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token function">sodium_memzero</span><span class="token punctuation">(</span>outerKeyPad<span class="token punctuation">)</span>
  <span class="token keyword">return</span> mac<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">&#39;hex&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 拼接请求参数</span>
<span class="token keyword">function</span> <span class="token function">combines</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> builder <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    builder<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token string">&#39;=&#39;</span> <span class="token operator">+</span> item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 发送请求</span>
<span class="token keyword">function</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

  <span class="token keyword">var</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;address&#39;</span><span class="token operator">:</span><span class="token string">&#39;0xf48b98bbeeb81033a227f576da98a32c3a2d8515&#39;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&#39;https://test-api.kelepool.com/eth2/v2/miner/dashboard?address=0xf48b98bbeeb81033a227f576da98a32c3a2d8515&#39;</span>

  <span class="token comment">// var url = &#39;https://test-api.kelepool.com/eth2/v2/partner/validator&#39;</span>
  <span class="token comment">// var params = {}</span>

  <span class="token keyword">var</span> authority_key<span class="token operator">=</span><span class="token string">&#39;dccc6ce732fe9011ee4e12b2e0de8ecbe743f630f3ff02bceb23052d9afa692d50540d6221f095427f903db80f781dd6cfaef8c6678ad5bbcc74475cd76cf629&#39;</span>
  <span class="token keyword">var</span> token<span class="token operator">=</span><span class="token string">&#39;eyJ0eXAiOiJqd3QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXBlIjoiZnVsbCIsIm9wZW5pZCI6Ik9uZUtleSIsInZlcnNpb24iOiIwIiwiZXhwIjoxODM3MDYzMjE0fQ.Z22fUeKbo6AmrsvvJ2nrrDjXQCcMwFd7GtIIAGUe6DU&#39;</span>
  <span class="token keyword">var</span> parameters <span class="token operator">=</span> <span class="token function">combines</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
  <span class="token keyword">var</span> key <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>authority_key<span class="token punctuation">,</span><span class="token string">&#39;utf8&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> data <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>parameters<span class="token punctuation">,</span><span class="token string">&#39;utf8&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> signature <span class="token operator">=</span> <span class="token function">hmac</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> key<span class="token punctuation">)</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;paramaters: &quot;</span><span class="token operator">+</span>parameters<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;signature: &quot;</span><span class="token operator">+</span>signature<span class="token punctuation">)</span>

  <span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;request&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span> 
      <span class="token string-property property">&#39;Accept&#39;</span><span class="token operator">:</span><span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&#39;Kele-ThirdParty-Authority&#39;</span><span class="token operator">:</span>token<span class="token punctuation">,</span>
      <span class="token string-property property">&#39;Kele-ThirdParty-Sign&#39;</span><span class="token operator">:</span>signature
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>error <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>statusCode <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="eth私钥签名认证" tabindex="-1"><a class="header-anchor" href="#eth私钥签名认证" aria-hidden="true">#</a> ETH私钥签名认证</h2><h3 id="_1-使用方式" tabindex="-1"><a class="header-anchor" href="#_1-使用方式" aria-hidden="true">#</a> 1.使用方式</h3><ul><li><p>在请求的 header 中添加 Kele-Private-Sign = <code>sign_hash</code></p></li><li><p>在请求的json body中添加签名原始信息字段&quot;_pirv_sign_raw&quot;:&quot;sign input data&quot;</p></li><li><p>_pirv_sign_raw 内部信息约定 (json stringfy后作为私钥签名的input data)</p></li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;sign_time&quot;</span><span class="token operator">:</span><span class="token number">1651200959</span><span class="token punctuation">,</span> <span class="token comment">// 签名时间</span>
    <span class="token property">&quot;token&quot;</span><span class="token operator">:</span><span class="token string">&quot;eth&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 签名币种</span>
    <span class="token property">&quot;addr&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x71c7aDBF701f5724291953561790c9c4e870b029&quot;</span><span class="token punctuation">,</span><span class="token comment">// 签名钱包地址</span>
    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span><span class="token string">&quot;/eth2/v2/miner/unstake&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 请求api路由</span>
    <span class="token property">&quot;method&quot;</span><span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 请求api方法</span>
    <span class="token property">&quot;api_param&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">// 请求api参数</span>
        <span class="token property">&quot;source&quot;</span><span class="token operator">:</span><span class="token string">&quot;kelepool&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;retail&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;0xd8f8799bc41b9eb55b5c22c6f75e54b5b98f6f87&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;unstake_amt&quot;</span><span class="token operator">:</span><span class="token string">&quot;123.3244&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>api请求body样例</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;_pirv_sign_raw&quot;</span><span class="token operator">:</span><span class="token string">&quot;{\&quot;sign_time\&quot;:1651200959,\&quot;token\&quot;:\&quot;eth\&quot;,\&quot;addr\&quot;:\&quot;0x71c7aDBF701f5724291953561790c9c4e870b029\&quot;,\&quot;url\&quot;:\&quot;/eth2/v2/miner/unstake\&quot;,\&quot;method\&quot;:\&quot;post\&quot;,\&quot;api_param\&quot;:{\&quot;source\&quot;:\&quot;kelepool\&quot;,\&quot;type\&quot;:\&quot;retail\&quot;,\&quot;address\&quot;:\&quot;0xd8f8799bc41b9eb55b5c22c6f75e54b5b98f6f87\&quot;,\&quot;unstake_amt\&quot;:\&quot;123.3244\&quot;}}&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-python签名样例" tabindex="-1"><a class="header-anchor" href="#_2-python签名样例" aria-hidden="true">#</a> 2.Python签名样例</h3><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac
<span class="token keyword">import</span> json
<span class="token keyword">import</span> time
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> web3
<span class="token keyword">from</span> eth_account<span class="token punctuation">.</span>messages <span class="token keyword">import</span> encode_defunct

url <span class="token operator">=</span> <span class="token string">&#39;https://test-api.kelepool.com/eth2/v2/miner/unstake&#39;</span>

authority_key<span class="token operator">=</span><span class="token string">&#39;6b0a8e85c994cd11129f10e7e85e7c509fe359f9aa79f8f191810deb7cfb3a209d75702d306fa6cae81a32594740e58b7fdfdad36ade22819dfcf7e396dc9880&#39;</span>
token<span class="token operator">=</span><span class="token string">&quot;eyJ0eXAiOiJqd3QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXBlIjoiZnVsbCIsIm9wZW5pZCI6InRva2VucG9ja2V0IiwidmVyc2lvbiI6IjAiLCJleHAiOjE4NTQ1MDY3NDF9.GuKpXkwGeJMdzcXwnsl_TkDgwfWotibJ7d1BXkx9mC4&quot;</span>

priv <span class="token operator">=</span> <span class="token string">&#39;0x1b988751b225c7c0448d5668a9f2b2d20f9c1df34d8643a66bac63013ba97bbf&#39;</span>
addr <span class="token operator">=</span> <span class="token string">&#39;0x71743fe0B3474f7A3498E2c95b00a92C680e56FB&#39;</span>

<span class="token comment"># 1. 用户私钥签名，用于证实用户身份(这里是这个API本身的参数)</span>
api_params <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;retail&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;address&quot;</span><span class="token punctuation">:</span> addr<span class="token punctuation">,</span>
    <span class="token string">&quot;unstake_amt&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;0.1&quot;</span>
<span class="token punctuation">}</span>

sign_obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;sign_time&quot;</span><span class="token punctuation">:</span><span class="token builtin">int</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment"># 签名时间 下边的返回结果是用1681709412时间生成的，正常需要用最新时间，不然时间会检验错误</span>
    <span class="token string">&quot;token&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;eth&quot;</span><span class="token punctuation">,</span> <span class="token comment"># 签名币种</span>
    <span class="token string">&quot;addr&quot;</span><span class="token punctuation">:</span> addr<span class="token punctuation">,</span><span class="token comment"># 签名钱包地址</span>
    <span class="token string">&quot;url&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;/eth2/v2/miner/unstake&quot;</span><span class="token punctuation">,</span> <span class="token comment"># 请求api路由</span>
    <span class="token string">&quot;method&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span> <span class="token comment"># 请求api方法</span>
    <span class="token string">&quot;api_param&quot;</span> <span class="token punctuation">:</span> api_params
<span class="token punctuation">}</span>

<span class="token comment"># https://eips.ethereum.org/EIPS/eip-191</span>
sign_obj_str <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>sign_obj<span class="token punctuation">)</span>
user_sign_str <span class="token operator">=</span> web3<span class="token punctuation">.</span>eth<span class="token punctuation">.</span>Account<span class="token punctuation">.</span>sign_message<span class="token punctuation">(</span>encode_defunct<span class="token punctuation">(</span>sign_obj_str<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> priv<span class="token punctuation">)</span><span class="token punctuation">.</span>signature<span class="token punctuation">.</span><span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;user_sign_str: &quot;</span><span class="token punctuation">,</span> user_sign_str<span class="token punctuation">)</span> 
<span class="token comment"># user_sign_str:  0x7a6f1e5fbbd5069a96a160645a43597e081628459b8f9b0fda164b1fddf3e7ca340a78dfce5f2c845f32502ecc5b574cef348dd666d3daf8b94684de59ebc9f31b</span>

params <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;_pirv_sign_raw&quot;</span><span class="token punctuation">:</span>sign_obj_str
<span class="token punctuation">}</span>
sign_str <span class="token operator">=</span> <span class="token string">&#39;&amp;&#39;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;%s=%s&#39;</span> <span class="token operator">%</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> params<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 2.渠道token签名，用于证实渠道身份</span>
sign<span class="token operator">=</span>hmac<span class="token punctuation">.</span>new<span class="token punctuation">(</span>authority_key<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sign_str<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> digestmod<span class="token operator">=</span>hashlib<span class="token punctuation">.</span>blake2b<span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 3. 发起请求</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;Content-Type&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span> 
    <span class="token string">&#39;Accept&#39;</span><span class="token punctuation">:</span><span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Kele-ThirdParty-Authority&#39;</span><span class="token punctuation">:</span>token<span class="token punctuation">,</span>
    <span class="token string">&#39;Kele-ThirdParty-Sign&#39;</span><span class="token punctuation">:</span>sign<span class="token punctuation">,</span>
    <span class="token string">&#39;Kele-Private-Sign&#39;</span><span class="token punctuation">:</span>user_sign_str
<span class="token punctuation">}</span>

r_json <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span>params<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>json<span class="token operator">=</span>params<span class="token punctuation">,</span>headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;sign_str: &quot;</span><span class="token operator">+</span>sign_str<span class="token punctuation">)</span>
<span class="token comment"># sign_str: _pirv_sign_raw={&quot;sign_time&quot;: 1681726933, &quot;token&quot;: &quot;eth&quot;, &quot;addr&quot;: &quot;0x71743fe0B3474f7A3498E2c95b00a92C680e56FB&quot;, &quot;url&quot;: &quot;/eth2/v2/miner/unstake&quot;, &quot;method&quot;: &quot;post&quot;, &quot;api_param&quot;: {&quot;type&quot;: &quot;retail&quot;, &quot;address&quot;: &quot;0x71743fe0B3474f7A3498E2c95b00a92C680e56FB&quot;, &quot;unstake_amt&quot;: &quot;0.1&quot;}}</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;signature: &quot;</span><span class="token operator">+</span>sign<span class="token punctuation">)</span>
<span class="token comment"># signature: deaac807d83278472d1fbf7772b9ab93dbc31aeb398a93cb69fe827ac63a5b8e79452b48b44e89783f210e6244914b88b4a2b590f2f1a38df8e6f61d61c7e342</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;response: &quot;</span><span class="token operator">+</span>r_json<span class="token punctuation">.</span>text<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-js签名样例" tabindex="-1"><a class="header-anchor" href="#_3-js签名样例" aria-hidden="true">#</a> 3.JS签名样例</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ethers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;ethers&#39;</span>
<span class="token keyword">import</span> sodiumUniversalMemory <span class="token keyword">from</span> <span class="token string">&#39;sodium-universal/memory.js&#39;</span> 
<span class="token keyword">import</span> sodiumUniversalCryptoGenerichash <span class="token keyword">from</span> <span class="token string">&#39;sodium-universal/crypto_generichash.js&#39;</span>
<span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">&#39;request&#39;</span>
<span class="token keyword">import</span> got <span class="token keyword">from</span> <span class="token string">&#39;got&#39;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> sodium_malloc<span class="token punctuation">,</span> sodium_memzero <span class="token punctuation">}</span> <span class="token operator">=</span> sodiumUniversalMemory

<span class="token keyword">const</span> <span class="token punctuation">{</span> crypto_generichash<span class="token punctuation">,</span> crypto_generichash_batch <span class="token punctuation">}</span> <span class="token operator">=</span> sodiumUniversalCryptoGenerichash

<span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">&#39;https://test-api.kelepool.com/eth2/v2/miner/unstake&#39;</span>

<span class="token keyword">const</span> privKey <span class="token operator">=</span> <span class="token string">&#39;0x1b988751b225c7c0448d5668a9f2b2d20f9c1df34d8643a66bac63013ba97bbf&#39;</span>

<span class="token keyword">const</span> authority_key <span class="token operator">=</span> <span class="token string">&#39;6b0a8e85c994cd11129f10e7e85e7c509fe359f9aa79f8f191810deb7cfb3a209d75702d306fa6cae81a32594740e58b7fdfdad36ade22819dfcf7e396dc9880&#39;</span>

<span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token string">&#39;eyJ0eXAiOiJqd3QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXBlIjoiZnVsbCIsIm9wZW5pZCI6InRva2VucG9ja2V0IiwidmVyc2lvbiI6IjAiLCJleHAiOjE4NTQ1MDY3NDF9.GuKpXkwGeJMdzcXwnsl_TkDgwfWotibJ7d1BXkx9mC4&#39;</span>

<span class="token keyword">const</span> signer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ethers<span class="token punctuation">.</span>Wallet</span><span class="token punctuation">(</span>privKey<span class="token punctuation">)</span>

<span class="token keyword">const</span> address <span class="token operator">=</span> <span class="token keyword">await</span> signer<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 计算消息签名</span>
<span class="token keyword">function</span> <span class="token function">hmac</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> mac <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> scratch <span class="token operator">=</span> <span class="token function">sodium_malloc</span><span class="token punctuation">(</span><span class="token number">128</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> hmacKey <span class="token operator">=</span> scratch<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">128</span> <span class="token operator">*</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> outerKeyPad <span class="token operator">=</span> scratch<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">128</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">128</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> innerKeyPad <span class="token operator">=</span> scratch<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">128</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">128</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span>byteLength <span class="token operator">&gt;</span> <span class="token number">128</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">crypto_generichash</span><span class="token punctuation">(</span>hmacKey<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span>
    <span class="token function">sodium_memzero</span><span class="token punctuation">(</span>hmacKey<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    hmacKey<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token function">sodium_memzero</span><span class="token punctuation">(</span>hmacKey<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span>key<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> hmacKey<span class="token punctuation">.</span>byteLength<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    outerKeyPad<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0x5c</span> <span class="token operator">^</span> hmacKey<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    innerKeyPad<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0x36</span> <span class="token operator">^</span> hmacKey<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">sodium_memzero</span><span class="token punctuation">(</span>hmacKey<span class="token punctuation">)</span>
  <span class="token function">crypto_generichash_batch</span><span class="token punctuation">(</span>mac<span class="token punctuation">,</span> <span class="token punctuation">[</span>innerKeyPad<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token function">sodium_memzero</span><span class="token punctuation">(</span>innerKeyPad<span class="token punctuation">)</span>
  <span class="token function">crypto_generichash_batch</span><span class="token punctuation">(</span>mac<span class="token punctuation">,</span> <span class="token punctuation">[</span>outerKeyPad<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>mac<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token function">sodium_memzero</span><span class="token punctuation">(</span>outerKeyPad<span class="token punctuation">)</span>
  <span class="token keyword">return</span> mac<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">&#39;hex&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 拼接请求参数</span>
<span class="token keyword">function</span> <span class="token function">combines</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> builder <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    builder<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token string">&#39;=&#39;</span> <span class="token operator">+</span> item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 1. 用户私钥签名，用于证实用户身份(这里是这个API本身的参数)</span>
<span class="token keyword">const</span> api_params <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;retail&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;address&quot;</span><span class="token operator">:</span> address<span class="token punctuation">,</span>
  <span class="token string-property property">&quot;unstake_amt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> sign_obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&#39;sign_time&#39;</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 签名时间 下边的返回结果是用1681709412时间生成的，正常需要用最新时间，不然时间会检验错误</span>
  <span class="token string-property property">&#39;token&#39;</span><span class="token operator">:</span> <span class="token string">&#39;eth&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 签名币种</span>
  <span class="token string-property property">&#39;addr&#39;</span><span class="token operator">:</span> address<span class="token punctuation">,</span><span class="token comment">// 签名钱包地址</span>
  <span class="token string-property property">&#39;url&#39;</span><span class="token operator">:</span> <span class="token string">&#39;/eth2/v2/miner/unstake&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 请求api路由</span>
  <span class="token string-property property">&#39;method&#39;</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 请求api方法</span>
  <span class="token string-property property">&#39;api_param&#39;</span><span class="token operator">:</span> api_params
<span class="token punctuation">}</span>

<span class="token keyword">const</span> sign_obj_str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>sign_obj<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;sign_obj_str:&#39;</span><span class="token punctuation">,</span> sign_obj_str<span class="token punctuation">)</span>
<span class="token comment">// sign_obj_str: {&quot;sign_time&quot;:1681728378,&quot;token&quot;:&quot;eth&quot;,&quot;addr&quot;:&quot;0x71743fe0B3474f7A3498E2c95b00a92C680e56FB&quot;,&quot;url&quot;:&quot;/eth2/v2/miner/unstake&quot;,&quot;method&quot;:&quot;post&quot;,&quot;api_param&quot;:{&quot;type&quot;:&quot;retail&quot;,&quot;address&quot;:&quot;0x71743fe0B3474f7A3498E2c95b00a92C680e56FB&quot;,&quot;unstake_amt&quot;:&quot;0.1&quot;}}</span>

<span class="token keyword">const</span> user_sign_str <span class="token operator">=</span> <span class="token keyword">await</span> signer<span class="token punctuation">.</span><span class="token function">signMessage</span><span class="token punctuation">(</span>sign_obj_str<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;user_sign_str:&#39;</span><span class="token punctuation">,</span> user_sign_str<span class="token punctuation">)</span>
<span class="token comment">// user_sign_str: 0x53d18594769a49fbd538c78fd1b51f1f20a6208d71e19a8f5e9800153eb30d715e32d7d12596dfe097f43b410ee71c983d0a0af547231338d1e1ad3a571e2b831b</span>

<span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&#39;_pirv_sign_raw&#39;</span><span class="token operator">:</span> sign_obj_str
<span class="token punctuation">}</span>

<span class="token keyword">const</span> parameters <span class="token operator">=</span> <span class="token function">combines</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>

<span class="token keyword">const</span> key <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>authority_key<span class="token punctuation">,</span><span class="token string">&#39;utf8&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>parameters<span class="token punctuation">,</span><span class="token string">&#39;utf8&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 2.渠道token签名，用于证实渠道身份</span>
<span class="token keyword">const</span> signature <span class="token operator">=</span> <span class="token function">hmac</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> key<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;signature:&#39;</span><span class="token punctuation">,</span> signature<span class="token punctuation">)</span>
<span class="token comment">// signature: 98a7272375ed17b2255eafac21fcd2f7852e0a70f9b8b45e22bdb2e29ffd5240b80f5c18c4ae5536aea16d9f73fa9a666aa982ca6b00066b7c7ff84de9de0de1</span>

<span class="token comment">// 3.发起请求</span>
<span class="token keyword">const</span> headers <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span> 
  <span class="token string-property property">&#39;Accept&#39;</span><span class="token operator">:</span><span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&#39;Kele-ThirdParty-Authority&#39;</span><span class="token operator">:</span> token<span class="token punctuation">,</span>
  <span class="token string-property property">&#39;Kele-ThirdParty-Sign&#39;</span><span class="token operator">:</span> signature<span class="token punctuation">,</span>
  <span class="token string-property property">&#39;Kele-Private-Sign&#39;</span><span class="token operator">:</span>user_sign_str
<span class="token punctuation">}</span>

<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  headers<span class="token punctuation">,</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">json</span><span class="token operator">:</span> params
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">got</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;res&#39;</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="用户地址注册" tabindex="-1"><a class="header-anchor" href="#用户地址注册" aria-hidden="true">#</a> 用户地址注册</h3><h4 id="post-user-v2-anonymouslogin" tabindex="-1"><a class="header-anchor" href="#post-user-v2-anonymouslogin" aria-hidden="true">#</a> POST <a href="https://test-api.kelepool.com/user/v2/anonymouslogin" target="_blank" rel="noopener noreferrer">/user/v2/anonymouslogin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>此接口只需在用户<strong>第一次质押</strong>的时候调用，当然你也可以在用户每次质押时调用，注意此接口<strong>必须在用户质押前</strong>调用。</p><blockquote><p>请求参数：</p><ul><li><code>payee_addr</code> ：用户质押钱包地址</li><li><code>token</code> ：质押代币（eth）</li><li><code>source</code> ：数据来源便于商务合作统计（例如：ThirdParty）</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/user/v2/anonymouslogin

<span class="token punctuation">{</span>
    <span class="token string">&quot;payee_addr&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;0xA49F98416aa4B158c2e752FD8031Fb295D330B22&quot;</span>,
    <span class="token string">&quot;token&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;eth&quot;</span>,
    <span class="token string">&quot;source&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;ThirdParty&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li>判断<code>code</code>为0即表示成功，反之则注册失败</li><li>返回<code>token</code>并不是鉴权所需的字段，无需理会</li><li>返回的其他字段无需理会，不作为注册地址使用</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">{</span>
   <span class="token string">&quot;code&quot;</span>:0,
   <span class="token string">&quot;message&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;success&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="用户质押总览" tabindex="-1"><a class="header-anchor" href="#用户质押总览" aria-hidden="true">#</a> 用户质押总览</h3><h4 id="get-eth2-v2-miner-dashboard" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-miner-dashboard" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/miner/dashboard?address=0x5dd3bd08cbc8498c8640abc26d19480219bb0606&amp;interval=day" target="_blank" rel="noopener noreferrer">/eth2/v2/miner/dashboard<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><blockquote><p>请求参数：</p><ul><li><code>address</code> ：用户质押钱包地址</li><li><code>interval</code> ：返回收益曲线类型hour=小时、day=天</li><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/miner/dashboard?address<span class="token operator">=</span>0x5dd3bd08cbc8498c8640abc26d19480219bb0606<span class="token operator">&amp;</span><span class="token assign-left variable">interval</span><span class="token operator">=</span>day<span class="token operator">&amp;</span><span class="token assign-left variable">num2str</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>total_amount</code> ：质押总数量（ETH）</li><li><code>staked_amount</code> ：已生效数量（ETH）</li><li><code>staking_amount</code> ：待生效数量（ETH）</li><li><code>ongoing_amount</code> ：可提款金额（推荐使用withdrawable字段）</li><li><code>withdrawable</code> ：可提款金额（ETH）</li><li><code>retail_staked</code> ：小额质押生效金额（ETH）</li><li><code>retail_unstaking</code> ：小额赎回中金额（ETH）</li><li><code>whale_staked</code> ：大额质押生效金额（ETH）</li><li><code>whale_unstaking</code> ：大额赎回中金额（ETH）</li><li><code>total_reward</code> ：共识总收益（ETH）</li><li><code>retail_total_reward</code> ：小额质押总收益（ETH）</li><li><code>whale_total_reward</code> ：大额质押总收益（ETH）</li><li><code>mev_total_reward</code> ：mev总收益（ETH）</li><li><code>staked_days</code> ：总质押天数</li><li><code>apr</code> ：预估总年化收益率</li><li><code>apr_detail</code>.<code>basic</code> ：预估共识年化收益率</li><li><code>apr_detail</code>.<code>mev</code> ：预估mev年化收益率</li><li><code>total_validaters</code> ：总验证节点数量</li><li><code>unactived_validater</code> ：待生效节点数量</li><li><code>actived_validater</code> ：已生效节点数量</li><li><code>closed_validater</code> ：已关闭节点数量</li><li><code>snap_time</code> ：曲线图上的时间</li><li><code>reward</code> ：曲线图上snap_time对应时间的共识收益（ETH）</li><li><code>retail_reward</code> ：曲线图上snap_time对应时间的小额收益（ETH）</li><li><code>whale_reward</code> ：曲线图上snap_time对应时间的大额收益（ETH）</li><li><code>mev_reward</code> ：曲线图上snap_time对应时间的mev收益（ETH） (需要注意mev收益是小时级结算，共识收益是天级结算，两者结算进度不同)</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;total_amount&quot;</span><span class="token operator">:</span><span class="token string">&quot;50.0882747824796&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;staked_amount&quot;</span><span class="token operator">:</span><span class="token string">&quot;50.0882747824796&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;staking_amount&quot;</span><span class="token operator">:</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ongoing_amount&quot;</span><span class="token operator">:</span><span class="token string">&quot;13.474380185510504244&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;withdrawable&quot;</span><span class="token operator">:</span><span class="token string">&quot;13.474380185510504244&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;retail_staked&quot;</span><span class="token operator">:</span><span class="token string">&quot;18.0882747824796&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;retail_unstaking&quot;</span><span class="token operator">:</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;whale_staked&quot;</span><span class="token operator">:</span><span class="token string">&quot;32&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;whale_unstaking&quot;</span><span class="token operator">:</span><span class="token string">&quot;0&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;income&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;total_reward&quot;</span><span class="token operator">:</span><span class="token number">0.27640085</span><span class="token punctuation">,</span>
            <span class="token property">&quot;retail_total_reward&quot;</span><span class="token operator">:</span><span class="token number">0.18313304</span><span class="token punctuation">,</span>
            <span class="token property">&quot;whale_total_reward&quot;</span><span class="token operator">:</span><span class="token number">0.09326781</span><span class="token punctuation">,</span>
            <span class="token property">&quot;mev_total_reward&quot;</span><span class="token operator">:</span><span class="token number">0.05771468379912863</span><span class="token punctuation">,</span>
            <span class="token property">&quot;staked_days&quot;</span><span class="token operator">:</span><span class="token number">127</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr&quot;</span><span class="token operator">:</span><span class="token number">0.0378</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr_detail&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;basic&quot;</span><span class="token operator">:</span><span class="token number">0.0213</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev&quot;</span><span class="token operator">:</span><span class="token number">0.0165</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;validater&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;total_validaters&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
            <span class="token property">&quot;unactived_validater&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;actived_validater&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
            <span class="token property">&quot;closed_validater&quot;</span><span class="token operator">:</span><span class="token number">0</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;income_curve&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;snap_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2023-08-10 17:00:00&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.00013111&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;retail_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.0000379&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;whale_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.00009321&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;snap_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2023-08-10 18:00:00&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.00010854&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;retail_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.00003676&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;whale_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.00007178&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// ...</span>
         <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="平台数据总览" tabindex="-1"><a class="header-anchor" href="#平台数据总览" aria-hidden="true">#</a> 平台数据总览</h3><h4 id="get-eth2-v2-global" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-global" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/global" target="_blank" rel="noopener noreferrer">/eth2/v2/global<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><blockquote><p>请求参数：</p><ul><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/global?num2str<span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>whale_fee</code> ：大额质押手续费（ETH）</li><li><code>retail_fee</code> ：小额质押手续费（%）</li><li><code>online_ratio</code> ：节点在线率（%）</li><li><code>reward_cycle</code> ：计算分红收益时间</li><li><code>reward_total</code> ：平台总收益（ETH）</li><li><code>staking_ratio</code> ：ETH全网质押比例（%）</li><li><code>staking_total</code> ：平台总质押数量（ETH）</li><li><code>validator_total</code> ：平台总验证节点数量</li><li><code>predicted_reward</code> ：预估总年化收益率</li><li><code>apr_detail</code>.<code>basic</code> ：预估共识年化收益率</li><li><code>apr_detail</code>.<code>mev</code> ：预估mev年化收益率</li><li><code>whale_min_amount</code> ：大额最低质押数量（ETH）</li><li><code>retail_min_amount</code> ：小额最低质押数量（ETH）</li><li><code>retail_deposit_far</code> ：小额质押还差多少ETH创建验证节点</li><li><code>withdraw_predicted_hour</code> : ETH2.0正式上线提现功能后，提款后多少小时后能到账</li><li><code>validator_alive_predicted_hour</code> ：现在质押创建验证节点后，多少小时后验证节点生效</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;whale_fee&quot;</span><span class="token operator">:</span><span class="token number">0.05</span><span class="token punctuation">,</span>
        <span class="token property">&quot;retail_fee&quot;</span><span class="token operator">:</span><span class="token number">0.1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;online_ratio&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;reward_cycle&quot;</span><span class="token operator">:</span><span class="token string">&quot;00:00-24:00 (UTC+0)&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;reward_total&quot;</span><span class="token operator">:</span><span class="token number">1.72538703</span><span class="token punctuation">,</span>
        <span class="token property">&quot;staking_ratio&quot;</span><span class="token operator">:</span><span class="token number">0.13682066</span><span class="token punctuation">,</span>
        <span class="token property">&quot;staking_total&quot;</span><span class="token operator">:</span><span class="token number">486.03</span><span class="token punctuation">,</span>
        <span class="token property">&quot;validator_total&quot;</span><span class="token operator">:</span><span class="token number">15</span><span class="token punctuation">,</span>
        <span class="token property">&quot;predicted_reward&quot;</span><span class="token operator">:</span><span class="token number">0.0487</span><span class="token punctuation">,</span>
        <span class="token property">&quot;whale_min_amount&quot;</span><span class="token operator">:</span><span class="token number">32</span><span class="token punctuation">,</span>
        <span class="token property">&quot;retail_min_amount&quot;</span><span class="token operator">:</span><span class="token number">0.01</span><span class="token punctuation">,</span>
        <span class="token property">&quot;retail_deposit_far&quot;</span><span class="token operator">:</span><span class="token number">27.6</span><span class="token punctuation">,</span>
        <span class="token property">&quot;withdraw_predicted_hour&quot;</span><span class="token operator">:</span><span class="token number">216</span><span class="token punctuation">,</span>
        <span class="token property">&quot;validator_alive_predicted_hour&quot;</span><span class="token operator">:</span><span class="token number">24</span><span class="token punctuation">,</span>
        <span class="token property">&quot;apr_detail&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;basic&quot;</span><span class="token operator">:</span><span class="token number">0.0367</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev&quot;</span><span class="token operator">:</span><span class="token number">0.012</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="收益历史列表" tabindex="-1"><a class="header-anchor" href="#收益历史列表" aria-hidden="true">#</a> 收益历史列表</h3><h4 id="收益日账单" tabindex="-1"><a class="header-anchor" href="#收益日账单" aria-hidden="true">#</a> 收益日账单</h4><h5 id="get-eth2-v2-miner-income-query" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-miner-income-query" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/miner/income/query?bill_type=0,1,2&amp;address=0x3ef51b5079021a11b1cab3d36eea45facf2b00ce" target="_blank" rel="noopener noreferrer">/eth2/v2/miner/income/query<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>address</code> ：用户质押钱包地址</li><li><code>bill_type</code> ：账单类型 默认值0,1:查共识收益日账单; 可传0,1,2:查共识收益+mev收益整体日账单 (0:小额质押基础收益，1:大额质押基础收益，2:总的mev收益)</li><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/miner/income/query?bill_type<span class="token operator">=</span><span class="token number">0,1</span>,2<span class="token operator">&amp;</span><span class="token assign-left variable">address</span><span class="token operator">=</span>0x3ef51b5079021a11b1cab3d36eea45facf2b00ce
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>date</code> ：分红日期 (仅返回最近31天数据)</li><li><code>reward</code> ：当天收益</li><li><code>deposit</code> ：截止当天累计本金(截止当天累计充值本金-截止当天累计提现)</li><li><code>balance</code> ：截止当天账户总余额（截止当天累计充值本金+截止当天累计收益-截止当天累计提现）</li><li><code>total_deposit</code> ：截止当天累计充值金额</li><li><code>total_withdrawal</code> ：截止当天累计提现金额</li><li><code>total_reward</code> ：截止当天累计收益</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-04-25 00:00:00&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span> <span class="token number">0.00043776</span><span class="token punctuation">,</span>
      <span class="token property">&quot;deposit&quot;</span><span class="token operator">:</span> <span class="token number">157.68972252</span><span class="token punctuation">,</span>
      <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token number">158.18080674</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_deposit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;254.6243&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_withdrawal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;96.934577477&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.289752687771953251&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-04-24 00:00:00&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span> <span class="token number">0.20050686</span><span class="token punctuation">,</span>
      <span class="token property">&quot;deposit&quot;</span><span class="token operator">:</span> <span class="token number">157.69163767</span><span class="token punctuation">,</span>
      <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token number">158.18228413</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_deposit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;254.6243&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_withdrawal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;96.932662325&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.289314919943093251&quot;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="mev收益明细" tabindex="-1"><a class="header-anchor" href="#mev收益明细" aria-hidden="true">#</a> MEV收益明细</h4><ul><li>来自合作商的大额质押节点，将按私池模式独立部署，节点获得的mev收益独立结算</li><li>mev收益记入质押地址</li><li>mev手续费记入合作商专用地址,手续费比例可配置</li><li>来自合作商的小额质押，统一作为可乐的散户整体结算</li></ul><h5 id="get-eth2-v2-mev-reward" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-mev-reward" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/mev_reward?timezone=8&amp;page_number=1&amp;page_size=5&amp;address=0x1ba59c6ba6fa7b14ec63fe499d649595cf3b8689" target="_blank" rel="noopener noreferrer">/eth2/v2/mev_reward<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>page_number</code>/<code>page_size</code> ：页码，页尺寸</li><li><code>address</code> ：用户质押钱包地址/合作商mev手续费地址</li><li><code>timezone</code> ：指定返回时间的时区</li><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/mev_reward?timezone<span class="token operator">=</span><span class="token number">8</span><span class="token operator">&amp;</span><span class="token assign-left variable">page_number</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token assign-left variable">page_size</span><span class="token operator">=</span><span class="token number">5</span><span class="token operator">&amp;</span><span class="token assign-left variable">address</span><span class="token operator">=</span>0x1ba59c6ba6fa7b14ec63fe499d649595cf3b8689<span class="token operator">&amp;</span><span class="token assign-left variable">num2str</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>timezone</code> ：时区</li><li><code>amount</code> ：单笔收益金额</li><li><code>balance</code> ：账户余额</li><li><code>total_reward</code> ：历史累计收益</li><li><code>staked_amt</code> ：质押金额</li><li><code>record_type</code> ：记录类型(reward:奖励记录)</li><li><code>height</code> mev奖励块高</li><li><code>mev_addr</code> ：节点mev收款地址</li><li><code>trx_id</code> ：交易id(mev奖励)</li><li><code>time</code> ：结算时间</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span><span class="token number">1428</span><span class="token punctuation">,</span>
        <span class="token property">&quot;page_size&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;page_number&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timezone&quot;</span><span class="token operator">:</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.03249061&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span><span class="token string">&quot;40.32607236&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;total_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;40.32607236&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;staked_amt&quot;</span><span class="token operator">:</span><span class="token string">&quot;96.00000000&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;record_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;reward&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;height&quot;</span><span class="token operator">:</span><span class="token number">16612641</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev_addr&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x4675c7e5baafbffbca748158becba61ef3b0a263&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;trx_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x3de7acf868ee76a82a9e70c8d8d6c30f57b1a13d2967b1dfb365d5d1dc1870c3&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2023-02-12 20:24:33&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="用户节点列表" tabindex="-1"><a class="header-anchor" href="#用户节点列表" aria-hidden="true">#</a> 用户节点列表</h3><h4 id="get-eth2-v2-miner-validator-query" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-miner-validator-query" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/miner/validator/query?address=0x5dd3bd08cbc8498c8640abc26d19480219bb0606" target="_blank" rel="noopener noreferrer">/eth2/v2/miner/validator/query<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>仅返回大额质押节点记录，小额质押节点不返回</p><blockquote><p>请求参数：</p><ul><li><code>address</code> ：用户质押钱包地址</li><li><code>page_size</code> 分页大小</li><li><code>page_number</code> 分页页号</li><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/miner/validator/query?address<span class="token operator">=</span>0x5dd3bd08cbc8498c8640abc26d19480219bb0606<span class="token operator">&amp;</span><span class="token assign-left variable">num2str</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>identifer</code> ：验证节点编号（验证节点生效后才有）</li><li><code>public_key</code> ：验证节点公钥</li><li><code>amount</code> ：用户初始质押金额</li><li><code>staked_amount</code> ：当前质押生效金额，可能已部分赎回</li><li><code>status</code> ：节点状态 0:待质押 1：质押中，2：生效中，3:待赎回 4:赎回中(提现中)，5：已退出(且已到账)</li><li><code>chain_status</code> ：链上原始状态(可能取值：空/pending_initialized/pending_queued/active_ongoing/active_exiting/active_slashed/exited_unslashed/exited_slashed/withdrawal_possible/withdrawal_done)</li><li><code>effective_time</code> ：生效时间，格式：%Y-%m-%d %H:%M:%S，未生效时为null</li><li><code>node_active_est_date</code> ：预估生效时间，精度只到天，建议只展示到天，在节点状态为 1 质押中时有效</li><li><code>node_exit_est_date</code> ：预估赎回时间，精度只到天，建议只展示到天，在节点状态为 3 待赎回时有效</li><li><code>address</code> ETH1存款地址</li><li><code>deposit_credentials</code> ：ETH2提款凭证</li><li><code>type</code> ：质押账户类型 0：小额质押，1：大额质押</li><li><code>reward</code> ：节点累计共识奖励</li><li><code>mev_reward</code> ：节点累计mev奖励</li><li><code>settle</code>.<code>reward</code> ：扣除手续费后的累计共识收益</li><li><code>settle</code>.<code>mev_reward</code> ：扣除手续费后的累计mev收益</li><li><code>settle</code>.<code>7d_reward</code> ：扣除手续费后的7天共识收益</li><li><code>settle</code>.<code>7d_mev_reward</code> ：扣除手续费后的7天mev收益</li><li><code>apr</code> ：预估总年化收益率</li><li><code>apr_detail</code>.<code>basic</code> ：预估共识年化收益率</li><li><code>apr_detail</code>.<code>mev</code> ：预估mev年化收益率</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;page_size&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;page_number&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total_count&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;852bf5000e370c1baa849defefc30a99c76ac1b41d2991b39e3f631bac3d11f9cbb961d3b17d5c4255137dc902dbbb6f&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">0.07</span><span class="token punctuation">,</span>
            <span class="token property">&quot;staked_amount&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.07&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;effective_time&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x5dd3bd08cbc8498c8640abc26d19480219bb0606&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;deposit_credentials&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> 
            <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span> <span class="token number">0.5368926599999995</span><span class="token punctuation">,</span>
            <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span><span class="token number">0.5368926599999995</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr&quot;</span><span class="token operator">:</span><span class="token number">0.0487</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr_detail&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;basic&quot;</span><span class="token operator">:</span><span class="token number">0.0367</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev&quot;</span><span class="token operator">:</span><span class="token number">0.012</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;settle&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;7d_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;7d_mev_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span><span class="token number">118838</span><span class="token punctuation">,</span>
            <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;8333ce3b794a6a4fd5045f2853884aef34f1a9a3aaf4dcf09af474e67d01865ae5e7e23f77dac7e41313d665afbe5a12&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">32</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;effective_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-06-10 13:06:59&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x5dd3bd08cbc8498c8640abc26d19480219bb0606&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;deposit_credentials&quot;</span><span class="token operator">:</span><span class="token string">&quot;003283e7b0701bd85c8aea1fb70021571a4732ba965c0309d4ea54b4dc26707d&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span> <span class="token number">0.5368926599999995</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr&quot;</span><span class="token operator">:</span><span class="token number">0.0487</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr_detail&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;basic&quot;</span><span class="token operator">:</span><span class="token number">0.0367</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev&quot;</span><span class="token operator">:</span><span class="token number">0.012</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span><span class="token number">119856</span><span class="token punctuation">,</span>
            <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;b7701b5a7dd2ceccd7f51daef59dbc74fb2273f2682df98feedb89464b4ff07f857707378f16677e5b80ef1b6257c582&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">32</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;effective_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-06-10 13:06:59&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x5dd3bd08cbc8498c8640abc26d19480219bb0606&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;deposit_credentials&quot;</span><span class="token operator">:</span><span class="token string">&quot;003283e7b0701bd85c8aea1fb70021571a4732ba965c0309d4ea54b4dc26707d&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span> <span class="token number">0.5368926599999995</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr&quot;</span><span class="token operator">:</span><span class="token number">0.0487</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr_detail&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;basic&quot;</span><span class="token operator">:</span><span class="token number">0.0367</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev&quot;</span><span class="token operator">:</span><span class="token number">0.012</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="用户操作历史" tabindex="-1"><a class="header-anchor" href="#用户操作历史" aria-hidden="true">#</a> 用户操作历史</h3><h4 id="get-eth2-v4-op-history" tabindex="-1"><a class="header-anchor" href="#get-eth2-v4-op-history" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v4/op_history?address=0xd8f8799bc41b9eb55b5c22c6f75e54b5b98f6f87&amp;op_type=1,2,3,4" target="_blank" rel="noopener noreferrer">/eth2/v4/op_history<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><blockquote><p>请求参数：</p><ul><li><code>address</code> ：用户质押钱包地址</li><li><code>op_type</code> ：查询记录类型，默认值1,2,3,4; <ul><li>1: 质押，用户质押记录</li><li>2: 赎回，用户赎回记录</li><li>3: 平台提现，用户在Kelepool的提现记录</li><li>4: 链上提现，ETH链上自动提现记录</li><li>5: 快速质押，直接转入Kelepool快速质押地址的记录</li><li>6: 快速赎回，支付手续费后快速赎回的记录</li><li>7: 快速质押退款，快速质押时，由于基金账户不足，导致部分成交后的退款记录</li></ul></li><li><code>op_id</code> ：操作id，默认为空。可用于过滤查询提现操作对应链上交易id</li><li><code>type</code> ：质押类型，默认查询所有类型 <ul><li>0: 小额质押</li><li>1: 大额质押</li></ul></li><li><code>page_size</code> ：分页大小</li><li><code>page_number</code> ：分页页号</li><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v4/op_history?address<span class="token operator">=</span>0xd8f8799bc41b9eb55b5c22c6f75e54b5b98f6f87<span class="token operator">&amp;</span><span class="token assign-left variable">op_type</span><span class="token operator">=</span><span class="token number">1,2</span>,3,4<span class="token operator">&amp;</span><span class="token assign-left variable">num2str</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>transaction_id</code> ：交易Hash</li><li><code>amount</code> ：质押数量（ETH）</li><li><code>op_type</code> ：操作类型</li><li><code>op_id</code> ：操作id</li><li><code>type</code> ：质押类型</li><li><code>history_time</code> ：操作时间</li><li><code>remain_time</code> ：此字段需要上面的op_type是（ 1: 质押 2: 赎回 5:快速质押 ）才能使用，表示质押或赎回记录剩余多少秒生效（单位：秒）</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">,</span>
        <span class="token property">&quot;page_size&quot;</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token property">&quot;page_number&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;transaction_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x2090670ba4810ebd4683e98dee19a26128c1e5263c6e9cf7ea637cf1a006b28f&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">0.01</span><span class="token punctuation">,</span>
                <span class="token property">&quot;op_type&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;op_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0bc9a32803054b5a8c6138c3df2bc959&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;history_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2023-03-22 06:49:33&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remain_time&quot;</span><span class="token operator">:</span><span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="get-eth2-v3-op-history" tabindex="-1"><a class="header-anchor" href="#get-eth2-v3-op-history" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v3/op_history?address=0xd8f8799bc41b9eb55b5c22c6f75e54b5b98f6f87&amp;op_type=0,1,2,3,4,5,6" target="_blank" rel="noopener noreferrer">/eth2/v3/op_history<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><blockquote><p>不推荐使用v3，请使用eth2/v4/op_history</p></blockquote><blockquote><p>请求参数：</p><ul><li><code>address</code> ：用户质押钱包地址</li><li><code>op_type</code> ：查询记录类型，默认值0,6; 0: 已充值等待质押 1: 质押中 2: 质押生效中 3:等待赎回 4: 赎回中 5: 已赎回 6: 提现中(待广播) 7:已提现(已广播) 8:链上节点自动转账记录</li><li><code>page_size</code> 分页大小</li><li><code>page_number</code> 分页页号</li><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v3/op_history?address<span class="token operator">=</span>0xd8f8799bc41b9eb55b5c22c6f75e54b5b98f6f87<span class="token operator">&amp;</span><span class="token assign-left variable">op_type</span><span class="token operator">=</span><span class="token number">0,1</span>,2,3,4,5,6,7,8<span class="token operator">&amp;</span><span class="token assign-left variable">num2str</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>transaction_id</code> ：交易Hash</li><li><code>amount</code> ：质押数量（ETH）</li><li><code>op_type</code> ：操作类型</li><li><code>history_time</code> 操作时间</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;page_size&quot;</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>
    <span class="token property">&quot;page_number&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total_count&quot;</span><span class="token operator">:</span><span class="token number">30</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;transaction_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x2090670ba4810ebd4683e98dee19a26128c1e5263c6e9cf7ea637cf1a006b28f&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">0.01</span><span class="token punctuation">,</span>
            <span class="token property">&quot;op_type&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;history_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2023-03-22 06:49:33&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="get-eth2-v2-op-history" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-op-history" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/op_history?address=0x5dd3bd08cbc8498c8640abc26d19480219bb0606" target="_blank" rel="noopener noreferrer">/eth2/v2/op_history<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><blockquote><p>请求参数：</p><ul><li><code>address</code> ：用户质押钱包地址</li><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/op_history?address<span class="token operator">=</span>0x5dd3bd08cbc8498c8640abc26d19480219bb0606<span class="token operator">&amp;</span><span class="token assign-left variable">num2str</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>address</code> ：用户质押钱包地址</li><li><code>transaction_id</code> ：交易Hash</li><li><code>amount</code> ：质押数量（ETH）</li><li><code>type</code> ：此字段未使用</li><li><code>status</code> ：此字段未使用</li><li><code>history_time</code> 操作时间</li><li><code>unactive_amount</code> ：待生效数量（ETH）</li><li><code>active_amount</code> ：已生效数量（ETH）</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x5dd3bd08cbc8498c8640abc26d19480219bb0606&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;transaction_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x03eae6e5048b53d867ba26147940255ebdd1f3488020885ff0a9929460a599e5&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">0.01</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;history_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-06-10 10:23:59&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;unactive_amount&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;active_amount&quot;</span><span class="token operator">:</span><span class="token number">0.01</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x5dd3bd08cbc8498c8640abc26d19480219bb0606&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;transaction_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0xb3bb11cbd3cbb85d49e5920c719bfe0ff2cc3574292dc5e79117b3071ca78453&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">32</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;history_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-06-10 10:23:51&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;unactive_amount&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;active_amount&quot;</span><span class="token operator">:</span><span class="token number">32</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="赎回提现api接口" tabindex="-1"><a class="header-anchor" href="#赎回提现api接口" aria-hidden="true">#</a> 赎回提现API接口</h2><h3 id="查询可赎回节点列表" tabindex="-1"><a class="header-anchor" href="#查询可赎回节点列表" aria-hidden="true">#</a> 查询可赎回节点列表</h3><h5 id="get-eth2-v2-miner-unstake-check" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-miner-unstake-check" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/miner/unstake_check?address=0x3ef51B5079021a11b1CAB3d36eEa45FaCF2B00CE&amp;unstake_amt=0&amp;node_ids=468230,468231" target="_blank" rel="noopener noreferrer">/eth2/v2/miner/unstake_check<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>address</code> ：用户地址</li><li><code>unstake_amt</code> ：赎回ETH数量，系统根据数量按时间降序选择节点赎回（这个字段与node_ids任选一个填写，用于按数量赎回）</li><li><code>node_ids</code>：赎回节点链上ID列表，多个逗号分隔（这个字段与unstake_amt任选一个填写，用于按节点ID赎回）</li><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/miner/unstake_check?address<span class="token operator">=</span>0x3ef51B5079021a11b1CAB3d36eEa45FaCF2B00CE<span class="token operator">&amp;</span><span class="token assign-left variable">unstake_amt</span><span class="token operator">=</span><span class="token number">0</span><span class="token operator">&amp;</span><span class="token assign-left variable">node_ids</span><span class="token operator">=</span><span class="token number">468106,468105</span>,464352,468230
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：availables中是目前可以赎回的节点，unusables中是目前暂时无法赎回的节点（1天内激活的节点）。</p></blockquote><blockquote><ul><li><code>code</code> ：整型数字，等于0表示成功，大于0表示失败</li><li><code>message</code> ：失败后返回的消息</li><li><code>identifer</code> ：验证者链上ID</li><li><code>public_key</code> ：验证者公钥匙</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;availables&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span> <span class="token number">468106</span><span class="token punctuation">,</span>
                <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;893c775be276f3b908a5bc7c06d82119947ea15223738d61222d29d491d0dbc826544b1989bb41834a2ed28112052d32&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span> <span class="token number">468105</span><span class="token punctuation">,</span>
                <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b945c815c0151966a3da434298b8634be71d0015064acefa84f7900bbd87a2eb42d404ea9550bca65d5d7ac4692224fb&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span> <span class="token number">464352</span><span class="token punctuation">,</span>
                <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a6b53f3fb8c35a4b8ebb0fd4046dc5235655fde408222bb3feab7b81432e11e0766abe0abfd1f3b0017e08da75b59017&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;unusables&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span> <span class="token number">468230</span><span class="token punctuation">,</span>
                <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a432e7d747543b9d646c9e5aea05a8681092c24549cc17743e283f4dd4f7b667754212b5c14399f13784bef4f5b65abc&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查询可赎回金额" tabindex="-1"><a class="header-anchor" href="#查询可赎回金额" aria-hidden="true">#</a> 查询可赎回金额</h3><h5 id="get-eth2-v2-miner-unstake" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-miner-unstake" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/miner/unstake?address=0xd8f8799bc41b9eb55b5c22c6f75e54b5b98f6f87" target="_blank" rel="noopener noreferrer">/eth2/v2/miner/unstake<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>address</code> ：用户地址</li><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/miner/unstake?address<span class="token operator">=</span>0xd8f8799bc41b9eb55b5c22c6f75e54b5b98f6f87<span class="token operator">&amp;</span><span class="token assign-left variable">num2str</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>code</code> ：整型数字，等于0表示成功，大于0表示失败</li><li><code>message</code> ：失败后返回的消息</li><li><code>retail_staked</code> ：小额质押可赎回金额</li><li><code>retail_unstaking</code> ：小额质押赎回中金额</li><li><code>whale_staked</code> ：大额质押可赎回金额</li><li><code>whale_unstaking</code> ：大额质押赎回中金额</li><li><code>estimate_use_sec</code> ：预计赎回耗时,秒</li><li><code>fast_fee_ratio</code> ：快速赎回服务费率 5%</li><li><code>credentials</code> ： 有效节点的提款证书列表</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;retail_staked&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;retail_unstaking&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;whale_staked&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;whale_unstaking&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;estimate_use_sec&quot;</span><span class="token operator">:</span><span class="token number">1234</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fast_fee_ratio&quot;</span><span class="token operator">:</span><span class="token number">0.05</span><span class="token punctuation">,</span>
        <span class="token property">&quot;credentials&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;01000000000000000000000011aaba2dddfa00cb565722b608c034d6e84073cd&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="发起赎回" tabindex="-1"><a class="header-anchor" href="#发起赎回" aria-hidden="true">#</a> 发起赎回</h3><ul><li>先需要用户私钥签名，详见ETH私钥签名章节</li><li>然后用auth token对整个json body签名</li></ul><h5 id="post-eth2-v2-miner-unstake" tabindex="-1"><a class="header-anchor" href="#post-eth2-v2-miner-unstake" aria-hidden="true">#</a> POST <a href="https://test-api.kelepool.com/eth2/v2/miner/unstake" target="_blank" rel="noopener noreferrer">/eth2/v2/miner/unstake<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>type</code> ：赎回类型 retail:小额赎回， retail_fast:小额快速赎回, whale:大额质押赎回</li><li><code>address</code> ：用户地址</li><li><code>unstake_amt</code> ：赎回金额，这里要注意如果是大额赎回，必须是32的整数倍，系统根据数量按时间降序选择节点赎回（这个字段与node_ids任选一个填写，用于按数量赎回）</li><li><code>node_ids</code>：赎回节点链上ID列表，多个逗号分隔（仅大额赎回可用，用于按节点ID来赎回。此字段填写后，不允许再填写unstake_amt字段，unstake_amt设置为0）</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/miner/unstake

<span class="token punctuation">{</span>
    <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;retail&quot;</span>,
    <span class="token string">&quot;address&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;0x3ef51B5079021a11b1CAB3d36eEa45FaCF2B00CE&quot;</span>,
    <span class="token string">&quot;unstake_amt&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;123.3244&quot;</span>,
    <span class="token string">&quot;node_ids&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;468106,468230&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>code</code> ：整型数字，等于0表示成功，大于0表示失败</li><li><code>message</code> ：失败后返回的消息</li><li><code>withdrawable</code> : 可提现金额</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;withdrawable&quot;</span><span class="token operator">:</span><span class="token string">&quot;123.123&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查询可提现信息" tabindex="-1"><a class="header-anchor" href="#查询可提现信息" aria-hidden="true">#</a> 查询可提现信息</h3><h5 id="get-eth2-v2-miner-withdrawal" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-miner-withdrawal" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/miner/withdrawal?address=0xd8f8799bc41b9eb55b5c22c6f75e54b5b98f6f87" target="_blank" rel="noopener noreferrer">/eth2/v2/miner/withdrawal<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>address</code> ：用户地址</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/miner/withdrawal?address<span class="token operator">=</span>0xd8f8799bc41b9eb55b5c22c6f75e54b5b98f6f87
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>code</code> ：整型数字，等于0表示成功，大于0表示失败</li><li><code>message</code> ：失败后返回的消息</li><li><code>balance</code> ：可提现金额</li><li><code>user_fee</code> ：预估链上手续费，目前仅支持向普通地址转账 (链上实际转账采用动态费用，预估费用一般略小于实际gas费用，差额部分由平台承担)</li><li><code>fee_free_threshold</code> ：免除链上手续费的最小提现金额</li><li><code>pay_addr</code> : 目前固定返回请求中的用户地址，暂不支持向其他地址提现</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span><span class="token string">&quot;123.248&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;user_fee&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.12&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fee_free_threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;pay_addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xd8f8799bc41b9eb55b5c22c6f75e54b5b98f6f87&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="发起提现" tabindex="-1"><a class="header-anchor" href="#发起提现" aria-hidden="true">#</a> 发起提现</h3><h5 id="post-eth2-v2-miner-withdrawal" tabindex="-1"><a class="header-anchor" href="#post-eth2-v2-miner-withdrawal" aria-hidden="true">#</a> POST <a href="https://test-api.kelepool.com/eth2/v2/miner/withdrawal" target="_blank" rel="noopener noreferrer">/eth2/v2/miner/withdrawal<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>address</code> ：用户地址</li><li><code>amount</code> ：提现金额</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/miner/withdrawal

<span class="token punctuation">{</span>
    <span class="token string">&quot;address&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;0xd8f8799bc41b9eb55b5c22c6f75e54b5b98f6f87&quot;</span>,
    <span class="token string">&quot;amount&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;12.23&quot;</span>,
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>code</code> ：整型数字，等于0表示成功，大于0表示失败</li><li><code>message</code> ：失败后返回的消息</li><li><code>op_id</code> ：提现操作id，可通过eth2/v4/op_history接口异步查询链上广播的trx_id</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;op_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;0bc9a32803054b5a8c6138c3df2bc959&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="节点api接口" tabindex="-1"><a class="header-anchor" href="#节点api接口" aria-hidden="true">#</a> 节点API接口</h2><h3 id="生成验证者公钥" tabindex="-1"><a class="header-anchor" href="#生成验证者公钥" aria-hidden="true">#</a> 生成验证者公钥</h3><h5 id="post-eth2-v2-validator-keypair" tabindex="-1"><a class="header-anchor" href="#post-eth2-v2-validator-keypair" aria-hidden="true">#</a> POST <a href="https://test-api.kelepool.com/eth2/v2/validator/keypair" target="_blank" rel="noopener noreferrer">/eth2/v2/validator/keypair<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>deposit_credentials</code> ：用户提款凭证</li><li><code>count</code> ：生成验证节点数量，批量质押时可根据<code>质押数量 / 32</code> 得出<code>count</code>参数的数量。</li><li><code>recreate</code> ：是否重新生成新的keystore。（0=否，1=是）</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/validator/keypair

<span class="token punctuation">{</span>
    <span class="token string">&quot;deposit_credentials&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;001ae74d19004b360d02d411795cee1451dc20679f13a13aafce7de2448b60cb&quot;</span>,
    <span class="token string">&quot;count&quot;</span>:2,
    <span class="token string">&quot;recreate&quot;</span>:0
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>code</code> ：整型数字，等于0表示成功，大于0表示失败</li><li><code>message</code> ：失败后返回的消息</li><li><code>pubkey</code> ：验证者公钥</li><li><code>withdrawal_credentials</code> ：提款凭证</li><li><code>signature</code> ：验证者签名</li><li><code>deposit_data_root</code> ：默克尔树根</li><li><code>network_name</code> ：ETH网络名称</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;pubkey&quot;</span><span class="token operator">:</span><span class="token string">&quot;86ee4eecf1c83725020cf8667c555b286b54445691da44aa7a671b6d18abf118452e60876216f9adec5e64ff09c3e231&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;withdrawal_credentials&quot;</span><span class="token operator">:</span><span class="token string">&quot;001ae74d19004b360d02d411795cee1451dc20679f13a13aafce7de2448b60cb&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token string">&quot;a61e5ed96b5b22ec9da92cf3f09c24cf9230ec1db99918e9dedfc9440de473f64b7520b5fb40558d0bc9f009dd20731917c3dbf6b3cfd98b48377a190d9e2959df3d2fa2dcec9c09e8be420accc9daa25301d4a2ce1636a5413ac066e7a4628f&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;deposit_data_root&quot;</span><span class="token operator">:</span><span class="token string">&quot;ebb84a75e241501cc64c4e42dd3cdb7a2f72e6af60ab828b2fb246905eb629e5&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;network_name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Goerli&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;pubkey&quot;</span><span class="token operator">:</span><span class="token string">&quot;83909737754d15dd3ad1281a3f0e62baa64d3c0abb3ed218c3baf7ff250058a24fe1143a5243c3b015e3f93ed6af1e18&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;withdrawal_credentials&quot;</span><span class="token operator">:</span><span class="token string">&quot;001ae74d19004b360d02d411795cee1451dc20679f13a13aafce7de2448b60cb&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token string">&quot;b95af475d67e8438e49cfaad12dacd789c705938fd6a8fee93a1a170ef6322c2cf37c643d1d010b23734c04e9028b58d034435dd6c9f19610090bfdefb7522c69e99b0a7830f6d967f1d07e3ff30128c8b516d40232e5595ac91d746420da993&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;deposit_data_root&quot;</span><span class="token operator">:</span><span class="token string">&quot;f08ca526395300d60ccc6db28d931ba129944f44d4bb92c773424e120dde222b&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;network_name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Goerli&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查询验证者公钥" tabindex="-1"><a class="header-anchor" href="#查询验证者公钥" aria-hidden="true">#</a> 查询验证者公钥</h3><h5 id="get-eth2-v2-validator-keypair" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-validator-keypair" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/validator/keypair?deposit_credentials=001ae74d19004b360d02d411795cee1451dc20679f13a13aafce7de2448b60cb&amp;is_used=0" target="_blank" rel="noopener noreferrer">/eth2/v2/validator/keypair<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>deposit_credentials</code> ：用户提款凭证</li><li><code>is_used</code> ：使用状态（0=未使用，1=已使用）</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
https://test-api.kelepool.com/eth2/v2/validator/keypair?deposit_credentials<span class="token operator">=</span>001ae74d19004b360d02d411795cee1451dc20679f13a13aafce7de2448b60cb<span class="token operator">&amp;</span><span class="token assign-left variable">is_used</span><span class="token operator">=</span><span class="token number">0</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>code</code> ：整型数字，等于0表示成功，大于0表示失败</li><li><code>message</code> ：失败后返回的消息</li><li><code>pubkey</code> ：验证者公钥</li><li><code>withdrawal_credentials</code> ：提款凭证</li><li><code>signature</code> ：验证者签名</li><li><code>deposit_data_root</code> ：默克尔树根</li><li><code>network_name</code> ：ETH网络名称</li><li><code>create_time</code> ：创建时间</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;pubkey&quot;</span><span class="token operator">:</span><span class="token string">&quot;86ee4eecf1c83725020cf8667c555b286b54445691da44aa7a671b6d18abf118452e60876216f9adec5e64ff09c3e231&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;withdrawal_credentials&quot;</span><span class="token operator">:</span><span class="token string">&quot;001ae74d19004b360d02d411795cee1451dc20679f13a13aafce7de2448b60cb&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token string">&quot;a61e5ed96b5b22ec9da92cf3f09c24cf9230ec1db99918e9dedfc9440de473f64b7520b5fb40558d0bc9f009dd20731917c3dbf6b3cfd98b48377a190d9e2959df3d2fa2dcec9c09e8be420accc9daa25301d4a2ce1636a5413ac066e7a4628f&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;deposit_data_root&quot;</span><span class="token operator">:</span><span class="token string">&quot;ebb84a75e241501cc64c4e42dd3cdb7a2f72e6af60ab828b2fb246905eb629e5&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;network_name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Goerli&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-06-02 17:52:50&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;pubkey&quot;</span><span class="token operator">:</span><span class="token string">&quot;83909737754d15dd3ad1281a3f0e62baa64d3c0abb3ed218c3baf7ff250058a24fe1143a5243c3b015e3f93ed6af1e18&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;withdrawal_credentials&quot;</span><span class="token operator">:</span><span class="token string">&quot;001ae74d19004b360d02d411795cee1451dc20679f13a13aafce7de2448b60cb&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token string">&quot;b95af475d67e8438e49cfaad12dacd789c705938fd6a8fee93a1a170ef6322c2cf37c643d1d010b23734c04e9028b58d034435dd6c9f19610090bfdefb7522c69e99b0a7830f6d967f1d07e3ff30128c8b516d40232e5595ac91d746420da993&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;deposit_data_root&quot;</span><span class="token operator">:</span><span class="token string">&quot;f08ca526395300d60ccc6db28d931ba129944f44d4bb92c773424e120dde222b&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;network_name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Goerli&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-06-02 17:52:50&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="节点奖励记录曲线图" tabindex="-1"><a class="header-anchor" href="#节点奖励记录曲线图" aria-hidden="true">#</a> 节点奖励记录曲线图</h3><h5 id="get-eth2-v2-validator-reward" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-validator-reward" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/validator_reward?page_number=1&amp;page_size=20&amp;timezone=8&amp;unit=day&amp;pubkey=8d9f04df4879680625ce6f3b9df0536160bb706e4242abc317ae53903abb804a5f26390ee4b739eacaecf8776bd0d0ce" target="_blank" rel="noopener noreferrer">/eth2/v2/validator_reward<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>pubkey</code> ：验证节点公钥</li><li><code>timezone</code> ：时区</li><li><code>unit</code> ：统计单位(day/hour)</li><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/validator_reward?page_number<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token assign-left variable">page_size</span><span class="token operator">=</span><span class="token number">20</span><span class="token operator">&amp;</span><span class="token assign-left variable">timezone</span><span class="token operator">=</span><span class="token number">8</span><span class="token operator">&amp;</span><span class="token assign-left variable">unit</span><span class="token operator">=</span>day<span class="token operator">&amp;</span><span class="token assign-left variable">pubkey</span><span class="token operator">=</span>8d9f04df4879680625ce6f3b9df0536160bb706e4242abc317ae53903abb804a5f26390ee4b739eacaecf8776bd0d0ce<span class="token operator">&amp;</span><span class="token assign-left variable">num2str</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li>[记录时段,节点累计总奖励,质押金额,节点总余额]</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;page_size&quot;</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token property">&quot;page_number&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">[</span>
                <span class="token string">&quot;2023-02-08&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;0.00639918&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;32.00&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;32.00639918&quot;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="节点链上自动转账记录查询" tabindex="-1"><a class="header-anchor" href="#节点链上自动转账记录查询" aria-hidden="true">#</a> 节点链上自动转账记录查询</h3><blockquote><p>大额质押节点，其基础收益提取/本金赎回由节点自动完成转账，转账记录可通过此接口查询</p></blockquote><h5 id="get-eth2-v2-validator-node-withdrawal" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-validator-node-withdrawal" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/validator/node_withdrawal?vids=464352,468105&amp;address=0x3ef51B5079021a11b1CAB3d36eEa45FaCF2B00CE&amp;order_by=-time&amp;page_size=5&amp;page_number=1" target="_blank" rel="noopener noreferrer">/eth2/v2/validator/node_withdrawal<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>page_size</code> 分页大小</li><li><code>page_number</code> 分页页号</li><li><code>vids</code> ：验证节点id过滤，可传多个，建议不超过10个</li><li><code>address</code> ：节点质押人过滤 (vids和address必须至少一个有效，查询结果取两者交集)</li><li><code>order_by</code> ：转账记录排序，目前支持<code>time</code>,<code>-time</code></li><li><code>timezone</code> ：指定返回时间的时区</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/validator/node_withdrawal?timezone<span class="token operator">=</span><span class="token number">0</span><span class="token operator">&amp;</span><span class="token assign-left variable">vids</span><span class="token operator">=</span><span class="token number">464352,468105</span><span class="token operator">&amp;</span><span class="token assign-left variable">address</span><span class="token operator">=</span>0x3ef51B5079021a11b1CAB3d36eEa45FaCF2B00CE<span class="token operator">&amp;</span><span class="token assign-left variable">order_by</span><span class="token operator">=</span>-time<span class="token operator">&amp;</span><span class="token assign-left variable">page_size</span><span class="token operator">=</span><span class="token number">5</span><span class="token operator">&amp;</span><span class="token assign-left variable">page_number</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>timezone</code> ：时区</li><li><code>index</code> ：转账记录在链上的唯一索引号</li><li><code>amount</code> ：转账金额(gwei)</li><li><code>amount_eth</code> ：转账金额(eth)</li><li><code>address</code> ：转账收款地址</li><li><code>time</code> ：转账时间</li><li><code>validator_index</code> ：验证节点唯一id</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span><span class="token number">21</span><span class="token punctuation">,</span>
        <span class="token property">&quot;page_size&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;page_number&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timezone&quot;</span><span class="token operator">:</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;index&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x329de0&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">32000000000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x3ef51b5079021a11b1cab3d36eea45facf2b00ce&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2023-04-21 08:47:36&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;validator_index&quot;</span><span class="token operator">:</span><span class="token number">468105</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount_eth&quot;</span><span class="token operator">:</span><span class="token string">&quot;32&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;index&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x328ffd&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">32000000000</span><span class="token punctuation">,</span>
                <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x3ef51b5079021a11b1cab3d36eea45facf2b00ce&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2023-04-21 07:51:00&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;validator_index&quot;</span><span class="token operator">:</span><span class="token number">464352</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount_eth&quot;</span><span class="token operator">:</span><span class="token string">&quot;32&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;index&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x303d39&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">1371538</span><span class="token punctuation">,</span>
                <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x3ef51b5079021a11b1cab3d36eea45facf2b00ce&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2023-04-19 14:17:00&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;validator_index&quot;</span><span class="token operator">:</span><span class="token number">468105</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount_eth&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.001371538&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="节点罚款记录" tabindex="-1"><a class="header-anchor" href="#节点罚款记录" aria-hidden="true">#</a> 节点罚款记录</h3><h5 id="get-eth2-v2-slashes-history" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-slashes-history" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/slashes/history?page_number=1&amp;page_size=2&amp;pubkey=8d9f04df4879680625ce6f3b9df0536160bb706e4242abc317ae53903abb804a5f26390ee4b739eacaecf8776bd0d0ce" target="_blank" rel="noopener noreferrer">/eth2/v2/slashes/history<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>pubkey</code> ：验证节点公钥</li><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/slashes/history?page_number<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token assign-left variable">page_size</span><span class="token operator">=</span><span class="token number">20</span><span class="token operator">&amp;</span><span class="token assign-left variable">pubkey</span><span class="token operator">=</span>8d9f04df4879680625ce6f3b9df0536160bb706e4242abc317ae53903abb804a5f26390ee4b739eacaecf8776bd0d0ce<span class="token operator">&amp;</span><span class="token assign-left variable">num2str</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>epoch</code> ：节点周期</li><li><code>slash_amount</code> ：罚款金额</li><li><code>snap_time</code> ：周期时间</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;page_size&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;page_number&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;epoch&quot;</span><span class="token operator">:</span><span class="token number">27551</span><span class="token punctuation">,</span>
                <span class="token property">&quot;slash_amount&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.00240799&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;snap_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2023-02-09 11:40:16&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="节点状态批量查询" tabindex="-1"><a class="header-anchor" href="#节点状态批量查询" aria-hidden="true">#</a> 节点状态批量查询</h3><h5 id="get-eth2-v2-validators" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-validators" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/validators?vids=460009,459869&amp;pubkeys=a1e60756f5a0fe6aaed34f6fb85f1cc3b3d823a11d000febfde2f8982c2a398324dd36f8fee97fde9e63a8fde131e630" target="_blank" rel="noopener noreferrer">/eth2/v2/validators<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>pubkeys</code> ：验证节点公钥列表，逗号分隔 (已生效节点优先用vids传参)</li><li><code>vids</code> ：验证节点id过滤,逗号分隔 (查询返回vids+pubkeys对应节点信息)</li><li><code>page_size</code> 分页大小</li><li><code>page_number</code> 分页页号</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/validators?vids<span class="token operator">=</span><span class="token number">460009,459869</span><span class="token operator">&amp;</span><span class="token assign-left variable">pubkeys</span><span class="token operator">=</span>a1e60756f5a0fe6aaed34f6fb85f1cc3b3d823a11d000febfde2f8982c2a398324dd36f8fee97fde9e63a8fde131e630
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>identifer</code> ：验证者id</li><li><code>public_key</code> ：验证者公钥</li><li><code>chain_status</code> ：链上原始状态(可能取值：空/pending_initialized/pending_queued/active_ongoing/active_exiting/active_slashed/exited_unslashed/exited_slashed/withdrawal_possible/withdrawal_done)</li><li><code>status</code> ：节点状态(系统内) 0-未质押，1-质押中，2-已生效，3-等待赎回，4-赎回中(退出)，5-已赎回</li><li><code>effective_ts</code> ：验证者生效时间，0为无效值</li><li><code>node_active_est_date</code> ：预估生效时间，精度只到天，建议只展示到天，在节点状态为 1 质押中时有效</li><li><code>node_exit_est_date</code> ：预估赎回时间，精度只到天，建议只展示到天，在节点状态为 3 待赎回时有效</li><li><code>exiting_ts</code> ：验证者开始退出时间，0为无效值</li><li><code>exited_ts</code> ：验证者退出链上工作时间，0为无效值</li><li><code>pending_queued_ts</code> ：验证者排队待生效时间, 0为无效值</li><li><code>withdrawal_done_ts</code> ：验证者完成本金提款，完全退出，0为无效值</li><li><code>reward</code> ：节点总基础收益(截止当日utc0)</li><li><code>mev_reward</code> ：节点mev总收益(截止当前时间)</li><li><code>7d_reward</code> ：节点近7日基础收益(前7个utc日)</li><li><code>7d_mev_reward</code> ：节点近7日mev收益(前7个utc日)</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;page_size&quot;</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token property">&quot;page_number&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span><span class="token number">459869</span><span class="token punctuation">,</span>
                <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;90604806e530b73ad9c2d1949b5d241098293d2d5ca73d9c9da0f3d581f8dd5f9121ec9a028aa718c48e0106f8944186&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;chain_status&quot;</span><span class="token operator">:</span><span class="token string">&quot;active_ongoing&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;effective_ts&quot;</span><span class="token operator">:</span><span class="token number">1679368172</span><span class="token punctuation">,</span>
                <span class="token property">&quot;pending_queued_ts&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;exiting_ts&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;exited_ts&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;withdrawal_done_ts&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;settle_for_node&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.150282352000000008&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.172310744158634649&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;7d_reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.014664574999999999&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;7d_mev_reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span><span class="token number">460009</span><span class="token punctuation">,</span>
                <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;9296eeffaca8103a5279ea9e1ef0694e28e5c90df845a8e3218b6e83706e912f178269ea206943f2ef3695b5a13525c9&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>
                <span class="token property">&quot;chain_status&quot;</span><span class="token operator">:</span><span class="token string">&quot;withdrawal_done&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;effective_ts&quot;</span><span class="token operator">:</span><span class="token number">1679517069</span><span class="token punctuation">,</span>
                <span class="token property">&quot;pending_queued_ts&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;exiting_ts&quot;</span><span class="token operator">:</span><span class="token number">222</span><span class="token punctuation">,</span>
                <span class="token property">&quot;exited_ts&quot;</span><span class="token operator">:</span><span class="token number">444</span><span class="token punctuation">,</span>
                <span class="token property">&quot;withdrawal_done_ts&quot;</span><span class="token operator">:</span><span class="token number">5555</span><span class="token punctuation">,</span>
                <span class="token property">&quot;settle_for_node&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.150282352000000008&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.172310744158634649&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;7d_reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.014664574999999999&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;7d_mev_reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span><span class="token number">459868</span><span class="token punctuation">,</span>
                <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;a1e60756f5a0fe6aaed34f6fb85f1cc3b3d823a11d000febfde2f8982c2a398324dd36f8fee97fde9e63a8fde131e630&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;chain_status&quot;</span><span class="token operator">:</span><span class="token string">&quot;active_ongoing&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;effective_ts&quot;</span><span class="token operator">:</span><span class="token number">1679343856</span><span class="token punctuation">,</span>
                <span class="token property">&quot;pending_queued_ts&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;exiting_ts&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;exited_ts&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;withdrawal_done_ts&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;settle_for_node&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.150282352000000008&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.172310744158634649&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;7d_reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.014664574999999999&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;7d_mev_reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="合作商api接口" tabindex="-1"><a class="header-anchor" href="#合作商api接口" aria-hidden="true">#</a> 合作商API接口</h2><h3 id="合作商下所有用户质押总览" tabindex="-1"><a class="header-anchor" href="#合作商下所有用户质押总览" aria-hidden="true">#</a> 合作商下所有用户质押总览</h3><h5 id="get-eth2-v2-partner-dashboard" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-partner-dashboard" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/partner/dashboard" target="_blank" rel="noopener noreferrer">/eth2/v2/partner/dashboard<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/partner/dashboard?num2str<span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>total_amount</code> ：质押总数量（ETH）</li><li><code>staked_amount</code> ：已生效数量（ETH）</li><li><code>staking_amount</code> ：待生效数量（ETH）</li><li><code>ongoing_amount</code> ：待提款数量（ETH）</li><li><code>total_reward</code> ：总收益（ETH）</li><li><code>total_validaters</code> ：总验证节点数量</li><li><code>unactived_validater</code> ：待生效节点数量</li><li><code>actived_validater</code> ：已生效节点数量</li><li><code>closed_validater</code> ：已关闭节点数量</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;staking&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;total_amount&quot;</span><span class="token operator">:</span><span class="token number">173.3</span><span class="token punctuation">,</span>
            <span class="token property">&quot;staked_amount&quot;</span><span class="token operator">:</span><span class="token number">173.23</span><span class="token punctuation">,</span>
            <span class="token property">&quot;staking_amount&quot;</span><span class="token operator">:</span><span class="token number">0.07</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ongoing_amount&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;total_reward&quot;</span><span class="token operator">:</span><span class="token number">0.82885946</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;validater&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;total_validaters&quot;</span><span class="token operator">:</span><span class="token number">8</span><span class="token punctuation">,</span>
            <span class="token property">&quot;unactived_validater&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;actived_validater&quot;</span><span class="token operator">:</span><span class="token number">7</span><span class="token punctuation">,</span>
            <span class="token property">&quot;closed_validater&quot;</span><span class="token operator">:</span><span class="token number">0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="合作商下所有用户收益历史列表" tabindex="-1"><a class="header-anchor" href="#合作商下所有用户收益历史列表" aria-hidden="true">#</a> 合作商下所有用户收益历史列表</h3><h5 id="get-eth2-v2-partner-income" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-partner-income" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/partner/income" target="_blank" rel="noopener noreferrer">/eth2/v2/partner/income<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/partner/income?num2str<span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>date</code> ：分红日期</li><li><code>reward</code> ：截止当天累计收益</li><li><code>deposit</code> ：截止当天累计充值本金</li><li><code>balance</code> ：截止当天账户总余额（截止当天累计充值本金+截止当天累计收益）</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;date&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-07-09 00:00:00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span><span class="token number">0.0172946</span><span class="token punctuation">,</span>
            <span class="token property">&quot;deposit&quot;</span><span class="token operator">:</span><span class="token number">173.3</span><span class="token punctuation">,</span>
            <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span><span class="token number">174.12885933</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;date&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-07-08 00:00:00&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span><span class="token number">0.03071118</span><span class="token punctuation">,</span>
            <span class="token property">&quot;deposit&quot;</span><span class="token operator">:</span><span class="token number">173.3</span><span class="token punctuation">,</span>
            <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span><span class="token number">174.11156473</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="合作商下所有用户验证节点列表" tabindex="-1"><a class="header-anchor" href="#合作商下所有用户验证节点列表" aria-hidden="true">#</a> 合作商下所有用户验证节点列表</h3><h5 id="get-eth2-v2-partner-validator" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-partner-validator" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/partner/validator" target="_blank" rel="noopener noreferrer">/eth2/v2/partner/validator<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><blockquote><p>请求参数：</p><ul><li><code>page_size</code> 分页大小</li><li><code>page_number</code> 分页页号</li><li><code>num2str</code> ：是否将返回的全部字段转字符串类型</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/partner/validator?num2str<span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>identifer</code> ：验证节点编号（验证节点生效后才有）</li><li><code>public_key</code> ：验证节点公钥</li><li><code>amount</code> ：质押数量</li><li><code>status</code> ：节点状态 0:待处理 1：质押中，2：已生效，3:退出中，4:提款中，5：已退出(且已到账)</li><li><code>chain_status</code> ：链上原始状态(可能取值：空/pending_initialized/pending_queued/active_ongoing/active_exiting/active_slashed/exited_unslashed/exited_slashed/withdrawal_possible/withdrawal_done)</li><li><code>effective_time</code> ：生效时间，格式：%Y-%m-%d %H:%M:%S，未生效时为null</li><li><code>node_active_est_date</code> ：预估生效时间，精度只到天，建议只展示到天，在节点状态为 1 质押中时有效</li><li><code>node_exit_est_date</code> ：预估赎回时间，精度只到天，建议只展示到天，在节点状态为 3 待赎回时有效</li><li><code>address</code> ETH1存款地址</li><li><code>deposit_credentials</code> ：ETH2提款凭证</li><li><code>type</code> ：质押账户类型 0：小额质押，1：大额质押</li><li><code>reward</code> ：节点累计共识奖励</li><li><code>mev_reward</code> ：节点累计mev奖励</li><li><code>settle</code>.<code>reward</code> ：扣除手续费后的累计共识收益</li><li><code>settle</code>.<code>mev_reward</code> ：扣除手续费后的累计mev收益</li><li><code>settle</code>.<code>7d_reward</code> ：扣除手续费后的7天共识收益</li><li><code>settle</code>.<code>7d_mev_reward</code> ：扣除手续费后的7天mev收益</li><li><code>apr</code> ：预估总年化收益率</li><li><code>apr_detail</code>.<code>basic</code> ：预估共识年化收益率</li><li><code>apr_detail</code>.<code>mev</code> ：预估mev年化收益率</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;page_size&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;page_number&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total_count&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;852bf5000e370c1baa849defefc30a99c76ac1b41d2991b39e3f631bac3d11f9cbb961d3b17d5c4255137dc902dbbb6f&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">0.07</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;effective_time&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span>
            <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x5dd3bd08cbc8498c8640abc26d19480219bb0606&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;deposit_credentials&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span> <span class="token number">0.5368926599999995</span><span class="token punctuation">,</span>
            <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span><span class="token number">0.5368926599999995</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr&quot;</span><span class="token operator">:</span><span class="token number">0.0487</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr_detail&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;basic&quot;</span><span class="token operator">:</span><span class="token number">0.0367</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev&quot;</span><span class="token operator">:</span><span class="token number">0.012</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;settle&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;7d_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;7d_mev_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span><span class="token number">118838</span><span class="token punctuation">,</span>
            <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;8333ce3b794a6a4fd5045f2853884aef34f1a9a3aaf4dcf09af474e67d01865ae5e7e23f77dac7e41313d665afbe5a12&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">32</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;effective_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-06-10 13:06:59&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x5dd3bd08cbc8498c8640abc26d19480219bb0606&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;deposit_credentials&quot;</span><span class="token operator">:</span><span class="token string">&quot;003283e7b0701bd85c8aea1fb70021571a4732ba965c0309d4ea54b4dc26707d&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span> <span class="token number">0.5368926599999995</span><span class="token punctuation">,</span>
            <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span><span class="token number">0.5368926599999995</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr&quot;</span><span class="token operator">:</span><span class="token number">0.0487</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr_detail&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;basic&quot;</span><span class="token operator">:</span><span class="token number">0.0367</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev&quot;</span><span class="token operator">:</span><span class="token number">0.012</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;settle&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;7d_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;7d_mev_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;identifer&quot;</span><span class="token operator">:</span><span class="token number">119856</span><span class="token punctuation">,</span>
            <span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;b7701b5a7dd2ceccd7f51daef59dbc74fb2273f2682df98feedb89464b4ff07f857707378f16677e5b80ef1b6257c582&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">32</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;effective_time&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-06-10 13:06:59&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x5dd3bd08cbc8498c8640abc26d19480219bb0606&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;deposit_credentials&quot;</span><span class="token operator">:</span><span class="token string">&quot;003283e7b0701bd85c8aea1fb70021571a4732ba965c0309d4ea54b4dc26707d&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span> <span class="token number">0.5368926599999995</span><span class="token punctuation">,</span>
            <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span><span class="token number">0.5368926599999995</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr&quot;</span><span class="token operator">:</span><span class="token number">0.0487</span><span class="token punctuation">,</span>
            <span class="token property">&quot;apr_detail&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;basic&quot;</span><span class="token operator">:</span><span class="token number">0.0367</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev&quot;</span><span class="token operator">:</span><span class="token number">0.012</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;settle&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mev_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;7d_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;7d_mev_reward&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="合作商快速质押-赎回查询接口" tabindex="-1"><a class="header-anchor" href="#合作商快速质押-赎回查询接口" aria-hidden="true">#</a> 合作商快速质押/赎回查询接口</h3><h5 id="get-eth2-v2-miner-fund-fast-stake" tabindex="-1"><a class="header-anchor" href="#get-eth2-v2-miner-fund-fast-stake" aria-hidden="true">#</a> GET <a href="https://test-api.kelepool.com/eth2/v2/miner/fund/fast_stake" target="_blank" rel="noopener noreferrer">/eth2/v2/miner/fund/fast_stake<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h5><p>为了让用户在质押/赎回后可以快速生效（目前质押需等待38天左右），提高资金利用率，我们增加了系统垫资账户。用户可从钱包直接转入ETH到系统垫资地址，只需等待64个区块（约13分钟），即可开始获得链上质押收益。</p><p>支持第三方配置独立的快速垫资地址，若未配置独立垫资地址，则默认使用可乐矿池垫资地址。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>快速质押：
- 用户给此接口返回的系统垫资地址转账一定数量的ETH
- 如果垫资地址余额足够，系统自动划转垫资地址资金至用户账户下，链上64个区块确认后生效
- 如果垫资地址余额不足，系统自动将不足部分存入用户账户下的可提现余额，可直接提现

快速质押例子：
假设垫资地址下有100ETH生效资金，用户从钱包转入200ETH至垫资地址，垫资地址下的100ETH划转给用户，
另外的100ETH存入用户可提现余额。

快速赎回：
- 用户支付其赎回金额的1%作为手续费，可以立即赎回质押的资金
- 如果垫资地址资金足够，系统自动划转用户地址下已生效资金至垫资地址，并将用户赎回资金划转至可提现
- 如果垫资地址资金不够，则提示用户目前垫资地址余额不足，无法快速赎回

快速赎回例子：假设垫资地址设置初始最大资金为200ETH，用户A赎回100ETH，垫资地址下只剩100ETH，
用户B赎回200则提示余额不足。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>请求参数：</p><ul><li>无</li></ul></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://test-api.kelepool.com/eth2/v2/miner/fund/fast_stake
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>请求返回值：</p><ul><li><code>fund_addr</code> ：系统垫资地址</li><li><code>stake_fee</code> ：快速质押手续费，为0则不收手续费</li><li><code>init_max_eth</code> ：垫资地址下最大可赎回资金（ETH）</li><li><code>fast_stake_balance</code> ：用户快速质押时，当前可用资金（ETH）</li><li><code>fast_unstake_balance</code>：用户快速赎回时，当前可用资金（ETH）</li><li><code>fast_stake_pending</code> ：用户快速质押时，垫资地址下正在等待64个区块确认的待生效资金</li></ul></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;fund_addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x5dd3bd08cbc8498c8640abc26d19480219bb0606&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stake_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;init_max_eth&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fast_stake_balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fast_unstake_balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fast_stake_pending&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="设置合作商手续费及收款地址" tabindex="-1"><a class="header-anchor" href="#设置合作商手续费及收款地址" aria-hidden="true">#</a> 设置合作商手续费及收款地址</h4><p>1.合作商可以联系可乐矿池设置大额质押手续、渠道标记、收款地址、费用类型等，质押完成后合约自动将手续费转入合作商设置的收款地址，可乐矿池目前按每个验证节点收取0.05ETH手续费。</p><ul><li><p>若用户质押时的source与合作商设置的partner渠道标记匹配，合约将要求用户支付合作商手续费</p></li><li><p>合作商可通过合约的getPartnerInfo查询自己的手续费信息</p></li><li><p>合作商未设置手续费或手续费设置为0，默认每个节点收取0.05手续费</p></li></ul><p>2.收取手续费有两种方式（以用户一次质押10个验证节点，合作商设置0.1ETH手续费为例）</p><ul><li><p>按节点数量收取：合约将收取1.5ETH手续费，其中0.5ETH给可乐矿池，1ETH自动转给合作商</p></li><li><p>按每次质押收取：合约将收取0.6ETH手续费，其中0.5ETH给可乐矿池，0.1ETH自动转给合作商</p></li></ul></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/kelepool/docs.kelepool.com/edit/main/src/zh/developers/ethereum/api/README.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页"><!--[--><!--]--> 在 GitHub 上编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/zh/developers/ethereum/contracts/" class="" aria-label="如何调用智能合约质押？"><!--[--><!--]--> 如何调用智能合约质押？ <!--[--><!--]--></a></span><span class="next"><a href="/zh/developers/ethereum/api/knowledge.html" class="" aria-label="涨姿势：钱包怎样安全的参与到 ETH Staking 浪潮中?"><!--[--><!--]--> 涨姿势：钱包怎样安全的参与到 ETH Staking 浪潮中? <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.aa16d652.js" defer></script>
  </body>
</html>
